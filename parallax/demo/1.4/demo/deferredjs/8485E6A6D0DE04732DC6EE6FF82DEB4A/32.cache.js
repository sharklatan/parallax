function rpc(){}
function vpc(){}
function ypc(){}
function JLb(a,b){a.Z=b}
function jUb(a,b){a.s=b}
function uUb(a,b){a.K=b}
function P2b(a,b){a.a=b}
function LLb(a,b){a.fb=b}
function sjc(a){this.a=a}
function njc(){i5b.call(this)}
function KUb(){LUb.call(this,0,0,1)}
function TUb(){UUb.call(this,0,1,0)}
function R2b(){S2b.call(this,0,0,0,1)}
function _3b(){a4b.call(this,0,1,1000)}
function AMb(){BMb.call(this,50,1,0.1,2000)}
function e4b(){f4b.call(this,2.5E-4)}
function kpc(){nFb.call(this,(npc(),mpc))}
function dYb(){FVb.call(this);this.a=new Dnb}
function npc(){npc=izc;mpc=new rpc}
function Apc(){Apc=izc;ppc=new vpc}
function Bpc(){Bpc=izc;qpc=new ypc}
function HTb(a,b){DLb(a,b);return b}
function N3b(a,b){DLb(a,b);b.a=a.a;return b}
function x0b(a,b,c){a.b.gf(b);a.a=-U1b(c,a.b);return a}
function $Lb(a,b){DLb(a,b);X_b(b.o,a.o);X_b(b.p,a.p);return b}
function dJb(a){var b;b=new iJb(a.c,a.d);b.a=a.a;return b}
function M2b(a,b){return a.c*b.c+a.d*b.d+a.b*b.b+a.a*b.a}
function J_b(a){return a<0?-1:a>0?1:0}
function s0b(a,b){var c;c=new R_b;return t0b(a,b,(Q_b(N_b(c,b)),c))}
function Y1b(a,b){var c;c=new d2b;return a.of(c.gf(b).kf(2*(a.c*b.c+a.d*b.d+a.b*b.b)))}
function B0b(a,b){a.c=b.c;a.d=b.d;a.e=b.e;a.b=b.b;!!a.a&&mPb(a.a,a);return a}
function j4b(a,b){DLb(a,b);!!a.b&&(b.b=a.b.pf());!!a.c&&(b.c=a.c.Le());b.a=a.a;b.W=a.W;return b}
function vMb(a){var b;b=new AMb;$Lb(a,b);b.n=a.n;b.c=a.c;b.a=a.a;b.g=a.g;b.b=a.b;X_b(b.p,a.p);return b}
function cYb(a){var b,c;c=new dYb;for(b=0;b<a.a.b;b++){tnb(c.a,qu(wnb(a.a,b),229).Le())}return c}
function D4b(a){var b,c,d;b=new lqb;for(d=MOb((new zOb(a)).a.a)._b();d.Bc();){c=qu(d.Cc(),1);Jlb(b,c,dJb(qu(a.a[SBc+c],174)))}return b}
function t0b(a,b,c){var d,e,f,g;f=new d2b;g=new d2b;e=N1b(f.gf(a.b),c);d=g.gf(a.b).kf(-a.a);O1b(d,b);a.b.gf(e);a.a=-U1b(d,a.b);return a}
function soc(a){var b;a.q&&gpc(a);a.q=true;b=a;while(b.$){b=b.$}!!b&&tu(b,255)&&LDb(a.v,qu(b,255),a.r,a.B,true)}
function nVb(a,b){b.Y=a.Y;b.cb=a.cb;b.Z=a.Z;b.W=a.W;b.P=a.P;b.O=a.O;b.M=a.M;b.N=a.N;b.R=a.R;b.S=a.S;b.U=a.U;b._=a._;b.ab=a.ab;b.L=a.L;b.$=a.$;b.X=a.X;return b}
function iYb(a){var b;b=new rYb;nVb(a,b);_$b(b.c,a.c);_$b(b.b,a.b);_$b(b.e,a.e);b.o=a.o;b.C.gf(a.C);b.q=a.q;b.p=a.p;b.w=a.w;b.a=a.a;b.f=a.f;b.d=a.d;b.t=a.t;b.u=a.u;b.g=a.g;b.v=a.v;b.n=a.n;b.B=a.B;b.A=a.A;b.k=a.k;b.j=a.j;b.i=a.i;return b}
function wUb(a){var b;b=new BUb(0);DLb(a,b);_$b(b.L,a.L);uUb(b,a.K.Sd());jUb(b,a.s);HLb(b,a.S);b.t=a.t;b.A=a.A;b.w=a.w;b.e=a.e;b.f=a.f;b.g=a.g;b.d=a.d;b.B=a.B;b.u=a.u;b.D=a.D;b.I=a.I;b.G=a.G;b.C=a.C;b.p.gf(a.p);b.j=a.j;b.i=a.i;b.q=a.q;b.n=a.n;b.o=a.o;b.k=a.k;return b}
function DLb(a,b){var c,d;b.Z=a.Z;b.fb.gf(a.fb);b._.gf(a._);B0b(b.ab,a.ab);b.eb.gf(a.eb);b.bb=a.bb;b.db=a.db;X_b(b.V,a.V);X_b(b.X,a.X);b.W=a.W;b.Y=a.Y;b.gb=a.gb;b.S=a.S;b.U=a.U;b.T=a.T;for(d=0;d<a.Q.b;d++){c=qu(wnb(a.Q,d),196);CLb(b,c.Sd())}return b}
function Z_b(a,b){var c,d,e,f,g;c=b.a;g=new d2b;d=1/$1b(g,c[0],c[1],c[2]).We();e=1/$1b(g,c[4],c[5],c[6]).We();f=1/$1b(g,c[8],c[9],c[10]).We();a.a[0]=c[0]*d;a.a[1]=c[1]*d;a.a[2]=c[2]*d;a.a[4]=c[4]*e;a.a[5]=c[5]*e;a.a[6]=c[6]*e;a.a[8]=c[8]*f;a.a[9]=c[9]*f;a.a[10]=c[10]*f;return a}
function fZb(a){var b;b=new sZb;nVb(a,b);_$b(b.e,a.e);_$b(b.b,a.b);_$b(b.g,a.g);_$b(b.G,a.G);b.F=a.F;b.k=a.k;b.r=a.r;b.K.gf(a.K);b.t=a.t;b.s=a.s;b.c=a.c;b.d=a.d;b.u=a.u;l1b(b.v,a.v);b.H=a.H;b.a=a.a;b.i=a.i;b.f=a.f;b.B=a.B;b.C=a.C;b.j=a.j;b.D=a.D;b.q=a.q;b.J=a.J;b.I=a.I;b.p=a.p;b.o=a.o;b.n=a.n;return b}
function etb(a,b){btb.call(this,a,b);this.u=~~(Jk((D$(),b.F),hHc)/2);this.v=~~(Jk(b.F,iHc)/2);rE!=NA&&Qk(pW(this.D),jHc,kHc);this.s=new d2b;IW(this.D,this,(fq(),fq(),eq));IW(this.D,this,($q(),$q(),Zq));IW(this.D,this,(Uq(),Uq(),Tq));IW(this.D,this,(er(),er(),dr));IW((R4(),V4(null)),this,(Bq(),Bq(),Aq));IW(V4(null),this,(Hq(),Hq(),Gq))}
function hpc(a){gJb(qu($Nb(rVb(a.p).i,mHc),174),a.B);gJb(qu($Nb(rVb(a.p).i,nHc),174),a.C);gJb(qu($Nb(rVb(a.p).i,oHc),174),new Rgb(a.a));gJb(qu($Nb(rVb(a.p).i,$Gc),174),new Rgb(0));gJb(qu($Nb(rVb(a.p).i,pHc),174),a.d);gJb(qu($Nb(rVb(a.p).i,qHc),174),a.e);gJb(qu($Nb(rVb(a.p).i,rHc),174),a.g);gJb(qu($Nb(rVb(a.p).i,sHc),174),a.f);gJb(qu($Nb(rVb(a.p).i,tHc),174),new Rgb(20));gJb(qu($Nb(rVb(a.p).i,lHc),174),a.b);uLb(gu(KP,nzc,0,[rVb(a.p).i]));if(!I_b(a.i)||!I_b(a.c)){SJb(a.B,false);SJb(a.A,false)}gpc(a);soc(a)}
function dtb(a,b){var c,d,e,f,g,i;if(a.b){return}else{a.a=0;d=b*a.q;a.k&&QLb(a.C,-(d+a.a));a.i&&QLb(a.C,d);a.n&&OLb(a.C,-d);a.o&&OLb(a.C,d);a.p&&PLb(a.C,d);a.j&&PLb(a.C,-d);c=b*a.e;a.d+=a.f*c;a.c-=a.g*c;a.c=Thb(-85,Vhb(85,a.c));a.r=(90-a.c)*3.141592653589793/180;a.t=a.d*3.141592653589793/180;i=a.s;f=a.C._;o1b(i,f.c+100*$hb(a.r)*Rhb(a.t));p1b(i,f.d+100*Rhb(a.r));a2b(i,f.b+100*$hb(a.r)*$hb(a.t))}a.d+=a.f*c;a.c-=a.g*c;a.c=Thb(-85,Vhb(85,a.c));a.r=(90-a.c)*3.141592653589793/180;a.t=a.d*3.141592653589793/180;g=a.s;e=a.C._;o1b(g,e.c+100*$hb(a.r)*Rhb(a.t));p1b(g,e.d+100*Rhb(a.r));a2b(g,e.b+100*$hb(a.r)*$hb(a.t));_Lb(a.C,g)}
function ipc(a,b){BLb();var c;TLb.call(this);new j_b(8355711);this.s=new y0b;this.u=new e2b(0,0,1);this.t=new d2b;this.k=new d2b;this.w=new p0b;this.o=new e2b(0,0,-1);this.n=new R2b;this.C=new p0b;JLb(this,'mirror_ '+this.R);this.i=512;this.c=512;this.a=1;this.d=null;this.f=new e2b(0.70707,0.70707,0);this.e=new j_b(16777215);this.g=new j_b(8355711);this.b=new e2b(0,0,0);JLb(this,'water_'+this.R);this.v=a;if(b){this.j=b}else{this.j=new AMb;wLb(' -> Mirror() ID '+this.Z+': camera is not a Perspective Camera!')}this.C=new p0b;this.r=vMb(this.j);this.B=new EKb(this.i,this.c);this.A=new EKb(this.i,this.c);c=new kpc;D4b(c.i);this.p=new u$b(c);DVb(this.p,true)}
function gpc(a){var b,c,d,e,f,g;SLb(a,false);SLb(a.j,false);_1b(a.t,a.X);_1b(a.k,a.j.X);Z_b(a.w,a.X);$1b(a.u,0,0,1);O1b(a.u,a.w);f=a.t.ff().of(a.k);Y1b(f,a.u).lf();f.ef(a.t);Z_b(a.w,a.j.X);$1b(a.o,0,0,-1);O1b(a.o,a.w);a.o.ef(a.k);e=a.t.ff().of(a.o);Y1b(e,a.u).lf();e.ef(a.t);$1b(a.fb,0,-1,0);O1b(a.fb,a.w);Y1b(a.fb,a.u).lf();a.r._.gf(f);LLb(a.r,a.fb);_Lb(a.r,e);wMb(a.r,a.j.a);zMb(a.r);SLb(a.r,false);__b(a.r.o,a.r.X);n0b(a.C,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);k0b(a.C,a.r.p);k0b(a.C,a.r.o);x0b(a.s,a.u,a.t);s0b(a.s,a.r.o);O2b(a.n,a.s.b.c,a.s.b.d,a.s.b.b,a.s.a);d=new R2b;c=a.r.p;o1b(d,(J_b(a.n.c)+c.a[8])/c.a[0]);p1b(d,(J_b(a.n.d)+c.a[9])/c.a[5]);d.b=-1;P2b(d,(1+c.a[10])/c.a[14]);new R2b;b=N2b(a.n,2/M2b(a.n,d));wwb(c.a,2,b.c);wwb(c.a,6,b.d);wwb(c.a,10,b.b+1);wwb(c.a,14,b.a);g=new d2b;_1b(g,a.j.X);a.b=g;gJb(qu($Nb(rVb(a.p).i,lHc),174),a.b)}
var oHc='alpha',tHc='distortionScale',lHc='eye',mHc='mirrorSampler',pHc='normalSampler',qHc='sunColor',sHc='sunDirection',nHc='textureMatrix',rHc='waterColor';TR(640,639,uAc,etb);_.Lb=function ftb(a){sl(a.a)};_.Mb=function gtb(a){switch(dl(a.a)){case 38:case 87:this.k=true;break;case 37:case 65:this.n=true;break;case 40:case 83:this.i=true;break;case 39:case 68:this.o=true;break;case 82:this.p=true;break;case 70:this.j=true;break;case 81:this.b=!this.b;}};_.Nb=function htb(a){switch(dl(a.a)){case 38:case 87:this.k=false;break;case 37:case 65:this.n=false;break;case 40:case 83:this.i=false;break;case 39:case 68:this.o=false;break;case 82:this.p=false;break;case 70:this.j=false;}};_.Ob=function itb(a){sl(a.a);gl(a.a);switch(rl(a.a)){case 1:this.k=true;break;case 2:this.i=true;}};_.Pb=function jtb(a){if(rE==NA){this.f=Yp(a)-this.u;this.g=Zp(a)-this.v}else{this.f=Yp(a)-yl((D$(),this.D.F))-this.u;this.g=Zp(a)-(Al(this.D.F)+$wnd.pageYOffset|0)-this.v}};_.Qb=function ktb(a){sl(a.a);gl(a.a);switch(rl(a.a)){case 1:this.k=false;break;case 2:this.i=false;}};_.a=0;_.b=false;_.c=0;_.d=0;_.e=0.005;_.f=0;_.g=0;_.i=false;_.j=false;_.k=false;_.n=false;_.o=false;_.p=false;_.q=1;_.r=0;_.t=0;_.u=0;_.v=0;TR(794,1,CAc);_.Sd=function ULb(){return DLb(this,new TLb)};TR(793,794,DAc);_.Wd=function bMb(){return $Lb(this,new aMb)};_.Sd=function cMb(){return this.Wd()};TR(796,793,{43:1,134:1,184:1,196:1});_.Wd=function sMb(){var a;return a=new qMb(10,10,10,10),$Lb(this,a),a.g=this.g,a.c=this.c,a.e=this.e,a.f=this.f,a.a=this.a,a.d=this.d,a.b=this.b,X_b(a.p,this.p),a};TR(797,793,DAc,AMb);_.Wd=function CMb(){return vMb(this)};TR(878,818,JAc);_.Sd=function PTb(){return HTb(this,new OTb(qu(this.t,189),qu(this.u,228),this.c))};TR(879,880,KAc);_.Sd=function aUb(){var a;return a=new _Tb(0),DLb(this,a),_$b(a.L,this.L),a};TR(882,883,{196:1,205:1,207:1,209:1});_.Sd=function DUb(){return wUb(this)};TR(885,880,{196:1,206:1,207:1},KUb);_.Sd=function MUb(){var a;return a=new KUb,DLb(this,a),_$b(a.L,this.L),_$b(a.a,this.a),a.b=this.b,a};TR(887,880,{196:1,207:1,208:1},TUb);_.Sd=function VUb(){var a;return a=new TUb,DLb(this,a),_$b(a.L,this.L),a.b=this.b,a.a=this.a,a};TR(892,893,{215:1,217:1,225:1,228:1,229:1});_.Le=function NVb(){var a;return a=new MVb,nVb(this,a),_$b(a.a,this.a),a.c=this.c,a.d=this.d,a.b=this.b,a};TR(899,893,{212:1,215:1,216:1,217:1,218:1,219:1,220:1,222:1,223:1,224:1,225:1,226:1,229:1,235:1});_.Le=function BXb(){var a;return a=new zXb,nVb(this,a),_$b(a.b,this.b),a.k=this.k,a.j=this.j,a.s=this.s,a.a=this.a,a.d=this.d,a.c=this.c,a.p=this.p,a.q=this.q,a.e=this.e,a.r=this.r,a.i=this.i,a.u=this.u,a.t=this.t,a.g=this.g,a.f=this.f,a};TR(900,893,{229:1,236:1},dYb);_.Le=function fYb(){return cYb(this)};TR(901,893,{212:1,213:1,215:1,216:1,217:1,218:1,219:1,220:1,222:1,223:1,224:1,225:1,226:1,227:1,229:1,237:1});_.Le=function sYb(){return iYb(this)};TR(902,893,{222:1,226:1,229:1});_.Le=function $Yb(){var a;return a=new ZYb,nVb(this,a),a.b=this.b,a.a=this.a,a.c=this.c,a};TR(903,893,{212:1,213:1,214:1,215:1,216:1,217:1,218:1,219:1,220:1,221:1,222:1,223:1,224:1,225:1,226:1,227:1,229:1,238:1});_.Le=function tZb(){return fZb(this)};TR(904,893,{215:1,217:1,219:1,225:1,229:1,239:1});_.Le=function a$b(){var a;return a=new _Zb,nVb(this,a),_$b(a.a,this.a),a.c=this.c,a.d=this.d,a.e=this.e,a.f=this.f,a.b=this.b,a};TR(906,893,{215:1,217:1,222:1,223:1,225:1,226:1,229:1,240:1});_.Le=function w$b(){var a;return a=new r$b,nVb(this,a),a.k=this.k,a.n=this.n,a.g=this.g,a.p=this.p,a.b=this.b,a.c=this.c,a.o=this.o,a.f=this.f,a.e=this.e,a.d=this.f,a};TR(922,921,{244:1,245:1,247:1});_.lf=function y2b(){this.c=-this.c;this.d=-this.d;this.b=-this.b;return this};TR(923,922,{244:1,245:1,247:1,249:1},R2b);_.lf=function d3b(){return this.c=-this.c,this.d=-this.d,this.b=-this.b,this.a=-this.a,this};TR(928,818,{195:1,196:1,254:1});_.Sd=function T3b(){return N3b(this,new S3b(qu(this.t,189),qu(this.u,239)))};TR(930,929,{},_3b);_.pf=function b4b(){var a;return a=new _3b,a.d=this.d,a.c=$$b(this.c),a.b=this.b,a.a=this.a,a};TR(931,929,{},e4b);_.pf=function g4b(){var a;return a=new e4b,a.d=this.d,a.c=$$b(this.c),a.a=this.a,a};TR(932,794,{196:1,255:1});_.Sd=function m4b(){return j4b(this,new l4b)};TR(1143,1,OAc);_.yb=function ljc(){f5b(this.b,new njc(this.a))};TR(1144,944,LAc,njc);_.Fd=function ojc(a){};_.mb=function pjc(){var a,b,c,d,e,f,g,i,j,k,n;et((Eub(),Dub),(Oub(),Nub),this);this.a=new BMb(55,zDb(this.D.n),0.5,3000000);$1b(this.a._,2000,750,2000);this.b=new etb(this.a,this.D.b);this.b.q=500;this.b.e=0.1;d=new LUb(16777147,526368,1);$1b(d._,-1,1,-1);CLb(this.F,d);this.e=new ipc(this.D.n,this.a);this.e.i=512;this.e.c=512;this.e.a=1;this.e.f=d._.ff().mf();this.e.e=new j_b(16777215);this.e.g=new j_b(7695);n=new iKb('./static/textures/waternormals.jpg',new sjc(this));bKb(n,(wCb(),vCb));cKb(n,vCb);g=new B3b(new KSb(1000000,1000000),this.e.p);CLb(g,this.e);w_b(g.cb,-1.5707963267948966);CLb(this.F,g);k=new qKb(MGc);e=new zXb;tXb(e,new j_b(16777215));e.d=k;i=new u$b(new PFb);gJb(qu($Nb(rVb(i).i,JGc),174),k);i.S=false;CVb(i,(pXb(),mXb));f=new B3b(new eSb(1000000,1000000,1000000),i);CLb(this.F,f);a=new xSb(400,4);for(b=0,c=a.i.Qc();b<c;b++){g_b(qu(a.i.Ic(b),188).f,yu(1118481+Shb(Yhb()*15658735)))}j=new sZb;qZb(j,(kWb(),hWb));j.i=k;j.F=100;this.d=new B3b(a,j);CLb(this.F,this.d)};_.nb=function qjc(a){var b;b=qh()*0.001;p1b(this.d._,$hb(b)*500+250);x_b(this.d.cb,b*0.5);y_b(this.d.cb,b*0.51);gJb(qu($Nb(rVb(this.e.p).i,$Gc),174),new Rgb(qu(qu($Nb(rVb(this.e.p).i,$Gc),174).d,98).a+0.016666666666666666));soc(this.e);dtb(this.b,(qh()-this.c)*0.001);this.c=qh();LDb(this.D.n,this.F,this.a,null,false);uLb(gu(KP,nzc,0,[this.a._,this.a.cb,this.a.V]))};_.c=0;TR(1145,1,{},sjc);_.Rd=function tjc(a){this.a.e.d=a;hpc(this.a.e)};TR(1239,794,CAc);_.q=false;TR(1252,1239,CAc,ipc);_.a=0;_.c=0;_.i=0;TR(1253,717,AAc,kpc);_.Jd=function lpc(){bFb(this,pHc,new iJb((BJb(),tJb),null));bFb(this,mHc,new iJb(tJb,null));bFb(this,oHc,new iJb(nJb,new Rgb(1)));bFb(this,$Gc,new iJb(nJb,new Rgb(0)));bFb(this,tHc,new iJb(nJb,new Rgb(20)));bFb(this,nHc,new iJb(rJb,new p0b));bFb(this,qHc,new iJb(mJb,new j_b(8355711)));bFb(this,sHc,new iJb(xJb,new e2b(0.70707,0.70707,0)));bFb(this,lHc,new iJb(xJb,new e2b(0,0,0)));bFb(this,rHc,new iJb(mJb,new j_b(5592405)))};var mpc;TR(1254,1,{},rpc);_.Md=function spc(){return Apc(),ppc};_.Nd=function tpc(){return Bpc(),qpc};var ppc,qpc;TR(1255,1,{},vpc);_.bc=function wpc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};TR(1256,1,{},ypc);_.bc=function zpc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var HM=Fgb(wFc,'ShaderOcean$DemoScene',1144),GM=Fgb(wFc,'ShaderOcean$DemoScene$1',1145),wN=Fgb(pFc,'Mirror',1239),JN=Fgb(pFc,'Water',1252),tE=Fgb(uHc,'FirstPersonControls',640),IN=Fgb(pFc,'WaterShader',1253),HN=Fgb(pFc,'WaterShader_Resources_default_InlineClientBundleGenerator',1254),FN=Fgb(pFc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1255),GN=Fgb(pFc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1256);$Ac(wi)(32);