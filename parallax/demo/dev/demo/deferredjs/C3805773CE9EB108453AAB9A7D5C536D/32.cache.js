function ezc(){}
function izc(){}
function lzc(){}
function zPb(a,b){a.$=b}
function U6b(a,b){a.b=b}
function CPb(a,b){a.gb=b}
function xpc(a){this.b=a}
function spc(){O9b.call(this)}
function LYb(){MYb.call(this,0,0,1)}
function W6b(){X6b.call(this,0,0,0,1)}
function Zyc(){IIb.call(this,(azc(),_yc))}
function nzc(){nzc=WMc;czc=new izc}
function ozc(){ozc=WMc;dzc=new lzc}
function azc(){azc=WMc;_yc=new ezc}
function O3b(a){return a<0?-1:a>0?1:0}
function R6b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function TMb(a){var b;b=new YMb(a.d,a.e);b.b=a.b;return b}
function B4b(a,b,c){a.c.of(b);a.b=-Y5b(c,a.c);return a}
function w4b(a,b){var c;c=new W3b;return x4b(a,b,(V3b(S3b(c,b)),c))}
function b6b(a,b){var c;c=new i6b;return a.vf(c.of(b).rf(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function MYb(a,b,c){rPb();_Xb.call(this,a);this.b=new o3b(b);this.ab=new j6b(0,100,0);this.c=c}
function Mxc(a){var b;a.r&&Vyc(a);a.r=true;b=a;while(b._){b=b._}!!b&&Iu(b,309)&&XGb(a.w,Fu(b,309),a.s,a.C,true)}
function M8b(a){var b,c,d;b=new rtb;for(d=JSb((new wSb(a)).b.b).cc();d.Ec();){c=Fu(d.Fc(),1);Pob(b,c,TMb(Fu(a.b[OPc+c],225)))}return b}
function x4b(a,b,c){var d,e,f,g;f=new i6b;g=new i6b;e=R5b(f.of(a.c),c);d=g.of(a.c).rf(-a.b);S5b(d,b);a.c.of(e);a.b=-Y5b(d,a.c);return a}
function d4b(a,b){var c,d,e,f,g;c=b.b;g=new i6b;d=1/d6b(g,c[0],c[1],c[2]).bf();e=1/d6b(g,c[4],c[5],c[6]).bf();f=1/d6b(g,c[8],c[9],c[10]).bf();a.b[0]=c[0]*d;a.b[1]=c[1]*d;a.b[2]=c[2]*d;a.b[4]=c[4]*e;a.b[5]=c[5]*e;a.b[6]=c[6]*e;a.b[8]=c[8]*f;a.b[9]=c[9]*f;a.b[10]=c[10]*f;return a}
function Wyc(a){WMb(Fu(XRb(sZb(a.q).j,iVc),225),a.C);WMb(Fu(XRb(sZb(a.q).j,jVc),225),a.D);WMb(Fu(XRb(sZb(a.q).j,kVc),225),new Wjb(a.b));WMb(Fu(XRb(sZb(a.q).j,YUc),225),new Wjb(0));WMb(Fu(XRb(sZb(a.q).j,lVc),225),a.e);WMb(Fu(XRb(sZb(a.q).j,mVc),225),a.f);WMb(Fu(XRb(sZb(a.q).j,nVc),225),a.i);WMb(Fu(XRb(sZb(a.q).j,oVc),225),a.g);WMb(Fu(XRb(sZb(a.q).j,pVc),225),new Wjb(20));WMb(Fu(XRb(sZb(a.q).j,hVc),225),a.c);kPb(vu(hS,aNc,0,[sZb(a.q).j]));if(!N3b(a.j)||!N3b(a.d)){GNb(a.C,false);GNb(a.B,false)}Vyc(a);Mxc(a)}
function Xyc(a,b){rPb();var c;KPb.call(this);new o3b(8355711);this.t=new C4b;this.v=new j6b(0,0,1);this.u=new i6b;this.n=new i6b;this.A=new s4b;this.p=new j6b(0,0,-1);this.o=new W6b;this.D=new s4b;zPb(this,'mirror_ '+this.S);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new j6b(0.70707,0.70707,0);this.f=new o3b(16777215);this.i=new o3b(8355711);this.c=new j6b(0,0,0);zPb(this,'water_'+this.S);this.w=a;if(b){this.k=b}else{this.k=new uQb;mPb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.D=new s4b;this.s=oQb(this.k);this.C=new sOb(this.j,this.d);this.B=new sOb(this.j,this.d);c=new Zyc;M8b(c.j);this.q=new A2b(c);EZb(this.q,true)}
function Vyc(a){var b,c,d,e,f,g;JPb(a,false);JPb(a.k,false);e6b(a.u,a.Y);e6b(a.n,a.k.Y);d4b(a.A,a.Y);d6b(a.v,0,0,1);S5b(a.v,a.A);f=a.u.nf().vf(a.n);b6b(f,a.v).sf();f.mf(a.u);d4b(a.A,a.k.Y);d6b(a.p,0,0,-1);S5b(a.p,a.A);a.p.mf(a.n);e=a.u.nf().vf(a.p);b6b(e,a.v).sf();e.mf(a.u);d6b(a.gb,0,-1,0);S5b(a.gb,a.A);b6b(a.gb,a.v).sf();a.s.ab.of(f);CPb(a.s,a.gb);RPb(a.s,e);pQb(a.s,a.k.b);tQb(a.s);JPb(a.s,false);f4b(a.s.p,a.s.Y);r4b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);p4b(a.D,a.s.q);p4b(a.D,a.s.p);B4b(a.t,a.v,a.u);w4b(a.t,a.s.p);T6b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new W6b;c=a.s.q;s5b(d,(O3b(a.o.d)+c.b[8])/c.b[0]);t5b(d,(O3b(a.o.e)+c.b[9])/c.b[5]);d.c=-1;U6b(d,(1+c.b[10])/c.b[14]);new W6b;b=S6b(a.o,2/R6b(a.o,d));Mzb(c.b,2,b.d);Mzb(c.b,6,b.e);Mzb(c.b,10,b.c+1);Mzb(c.b,14,b.b);g=new i6b;e6b(g,a.k.Y);a.c=g;WMb(Fu(XRb(sZb(a.q).j,hVc),225),a.c)}
var kVc='alpha',pVc='distortionScale',hVc='eye',iVc='mirrorSampler',lVc='normalSampler',oVc='sunDirection',jVc='textureMatrix',nVc='waterColor';nU(901,896,{249:1,259:1,260:1},LYb,MYb);_.Yd=function NYb(){var a;return a=new LYb,tPb(this,a,true),e3b(a.M,this.M),e3b(a.b,this.b),a.c=this.c,a};_.ne=function OYb(a,b){var c,d,e,f,g,i,j,k;i=a.d.d;e=a.d.b;g=a.d.c;k=this.M;d=this.b;j=this.c;f=i.length*3;if(b){ZXb(i,f,k,j);ZXb(e,f,d,j)}else{$Xb(i,f,k,j);$Xb(e,f,d,j)}c=new i6b;e6b(c,this.Y);c.tf();Mzb(g,f,c.d);Mzb(g,f+1,c.e);Mzb(g,f+2,c.c)};_.c=0;nU(938,937,{296:1,297:1,299:1});_.sf=function D6b(){this.d=-this.d;this.e=-this.e;this.c=-this.c;return this};nU(939,938,{296:1,297:1,299:1,301:1},W6b);_.sf=function i7b(){return this.d=-this.d,this.e=-this.e,this.c=-this.c,this.b=-this.b,this};nU(1186,1,HOc);_.Db=function qpc(){o9b(this.c,new spc(this.b))};nU(1187,968,EOc,spc);_.Jd=function tpc(a){};_.ob=function upc(){var a,b,c,d,e,f,g,i,j,k,n;ut((Pxb(),Oxb),(Zxb(),Yxb),this);this.b=new vQb(55,LGb(this.H.n),0.5,3000000);d6b(this.b.ab,2000,750,2000);this.c=new pwb(this.b,this.H.d);this.c.r=500;this.c.f=0.1;d=new MYb(16777147,526368,1);d6b(d.ab,-1,1,-1);sPb(this.I,d);this.f=new Xyc(this.H.n,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.ab.nf().tf();this.f.f=new o3b(16777215);this.f.i=new o3b(7695);n=new YNb('./static/textures/waternormals.jpg',new xpc(this));RNb(n,(OFb(),NFb));SNb(n,NFb);g=new H7b(new JWb(1000000,1000000),this.f.q);sPb(g,this.f);B3b(g.db,-1.5707963267948966);sPb(this.I,g);k=new eOb(NUc);e=new z_b;t_b(e,new o3b(16777215));e.e=k;i=new A2b(new iJb);WMb(Fu(XRb(sZb(i).j,KUc),225),k);i.T=false;DZb(i,(p_b(),m_b));f=new H7b(new dWb(1000000,1000000,1000000),i);sPb(this.I,f);a=new wWb(400,4);for(b=0,c=a.j.Tc();b<c;b++){l3b(Fu(a.j.Lc(b),241).g,Nu(1118481+Xkb(blb()*15658735)))}j=new w1b;u1b(j,(k$b(),h$b));j.j=k;j.G=100;this.e=new H7b(a,j)};_.pb=function vpc(a){var b;b=Bh()*0.001;t5b(this.e.ab,dlb(b)*500+250);C3b(this.e.db,b*0.5);D3b(this.e.db,b*0.51);WMb(Fu(XRb(sZb(this.f.q).j,YUc),225),new Wjb(Fu(Fu(XRb(sZb(this.f.q).j,YUc),225).e,150).b+0.016666666666666666));Mxc(this.f);owb(this.c,(Bh()-this.d)*0.001);this.d=Bh();XGb(this.H.n,this.I,this.b,null,false);kPb(vu(hS,aNc,0,[this.b.ab,this.b.db,this.b.W]))};_.d=0;nU(1188,1,{},xpc);_.Xd=function ypc(a){this.b.f.e=a;Wyc(this.b.f)};nU(1335,809,wOc);_.r=false;nU(1354,1335,wOc,Xyc);_.b=0;_.d=0;_.j=0;nU(1355,726,uOc,Zyc);_.Od=function $yc(){wIb(this,lVc,new YMb((pNb(),hNb),null));wIb(this,iVc,new YMb(hNb,null));wIb(this,kVc,new YMb(bNb,new Wjb(1)));wIb(this,YUc,new YMb(bNb,new Wjb(0)));wIb(this,pVc,new YMb(bNb,new Wjb(20)));wIb(this,jVc,new YMb(fNb,new s4b));wIb(this,mVc,new YMb(aNb,new o3b(8355711)));wIb(this,oVc,new YMb(lNb,new j6b(0.70707,0.70707,0)));wIb(this,hVc,new YMb(lNb,new j6b(0,0,0)));wIb(this,nVc,new YMb(aNb,new o3b(5592405)))};var _yc;nU(1356,1,{},ezc);_.Rd=function fzc(){return nzc(),czc};_.Sd=function gzc(){return ozc(),dzc};var czc,dzc;nU(1357,1,{},izc);_.qc=function jzc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};nU(1358,1,{},lzc);_.qc=function mzc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var GN=Kjb(DTc,'ShaderOcean$DemoScene',1187),FN=Kjb(DTc,'ShaderOcean$DemoScene$1',1188),aP=Kjb(wTc,'Mirror',1335),rP=Kjb(wTc,'Water',1354),JI=Kjb(qVc,'HemisphereLight',901),qP=Kjb(wTc,'WaterShader',1355),pP=Kjb(wTc,'WaterShader_Resources_default_InlineClientBundleGenerator',1356),nP=Kjb(wTc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1357),oP=Kjb(wTc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1358);VOc(Hi)(32);