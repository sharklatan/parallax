function Dxc(){}
function Hxc(){}
function Kxc(){}
function gPb(a,b){a.$=b}
function VXb(a,b){a.L=b}
function q6b(a,b){a.b=b}
function iPb(a,b){a.gb=b}
function tpc(a){this.b=a}
function opc(){k9b.call(this)}
function jYb(){kYb.call(this,0,0,1)}
function tYb(){uYb.call(this,0,1,0)}
function s6b(){t6b.call(this,0,0,0,1)}
function G7b(){H7b.call(this,0,1,1000)}
function L7b(){M7b.call(this,0,2.5E-4)}
function wxc(){KIb.call(this,(zxc(),yxc))}
function D_b(){eZb.call(this);this.b=new Mqb}
function zxc(){zxc=tLc;yxc=new Dxc}
function Mxc(){Mxc=tLc;Bxc=new Hxc}
function Nxc(){Nxc=tLc;Cxc=new Kxc}
function l3b(a){return a<0?-1:a>0?1:0}
function gXb(a,b){aPb(a,b,true);return b}
function Z6b(a,b){aPb(a,b,false);return b}
function s7b(a,b){aPb(a,b,true);b.b=a.b;return b}
function AMb(a){var b;b=new FMb(a.d,a.e);b.b=a.b;return b}
function wPb(a,b){aPb(a,b,true);A3b(b.p,a.p);A3b(b.q,a.q);return b}
function $3b(a,b,c){a.c.pf(b);a.b=-v5b(c,a.c);return a}
function n6b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function z5b(a,b){var c;c=new G5b;return a.wf(c.pf(b).sf(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function V3b(a,b){var c;c=new t3b;return W3b(a,b,(s3b(p3b(c,b)),c))}
function C_b(a){var b,c;c=new D_b;for(b=0;b<a.b.c;b++){Cqb(c.b,Xu(Fqb(a.b,b),281).Te())}return c}
function UPb(a){var b;b=new $Pb;wPb(a,b);b.o=a.o;b.d=a.d;b.b=a.b;b.i=a.i;b.c=a.c;A3b(b.q,a.q);return b}
function j7b(a,b){aPb(a,b,true);b.e=a.e;b.j=a.j;b.n=a.n;b.g=a.g;b.b=a.b;b.c=a.c;b.d=a.d;return b}
function Q7b(a,b){aPb(a,b,true);!!a.c&&(b.c=a.c.yf());!!a.d&&(b.d=a.d.Te());b.b=a.b;b.X=a.X;return b}
function jwc(a){var b;a.r&&sxc(a);a.r=true;b=a;while(b._){b=b._}!!b&&$u(b,309)&&ZGb(a.w,Xu(b,309),a.s,a.C,true)}
function i8b(a){var b,c,d;b=new utb;for(d=jSb((new YRb(a)).b.b).fc();d.Hc();){c=Xu(d.Ic(),1);Sob(b,c,AMb(Xu(a.b[lOc+c],225)))}return b}
function W3b(a,b,c){var d,e,f,g;f=new G5b;g=new G5b;e=o5b(f.pf(a.c),c);d=g.pf(a.c).sf(-a.b);p5b(d,b);a.c.pf(e);a.b=-v5b(d,a.c);return a}
function I_b(a){var b;b=new R_b;OYb(a,b);D2b(b.d,a.d);D2b(b.c,a.c);D2b(b.f,a.f);b.p=a.p;b.D.pf(a.D);b.r=a.r;b.q=a.q;b.A=a.A;b.b=a.b;b.g=a.g;b.e=a.e;b.u=a.u;b.v=a.v;b.i=a.i;b.w=a.w;b.o=a.o;b.C=a.C;b.B=a.B;b.n=a.n;b.k=a.k;b.j=a.j;return b}
function XXb(a){var b;b=new aYb(0);aPb(a,b,true);D2b(b.M,a.M);VXb(b,a.L._d());KXb(b,a.t);ePb(b,a.T);b.u=a.u;b.B=a.B;b.A=a.A;b.f=a.f;b.g=a.g;b.i=a.i;b.e=a.e;b.C=a.C;b.v=a.v;b.F=a.F;b.J=a.J;b.H=a.H;b.D=a.D;b.q.pf(a.q);b.k=a.k;b.j=a.j;b.r=a.r;b.o=a.o;b.p=a.p;b.n=a.n;return b}
function aPb(a,b,c){var d,e;b.$=a.$;b.gb.pf(a.gb);b.ab.pf(a.ab);c4b(b.bb,a.bb);b.fb.pf(a.fb);b.cb=a.cb;b.eb=a.eb;A3b(b.W,a.W);A3b(b.Y,a.Y);b.X=a.X;b.Z=a.Z;b.hb=a.hb;b.T=a.T;b.V=a.V;b.U=a.U;if(c){for(e=0;e<a.R.c;e++){d=Xu(Fqb(a.R,e),248);_Ob(b,d._d())}}return b}
function C3b(a,b){var c,d,e,f,g;c=b.b;g=new G5b;d=1/B5b(g,c[0],c[1],c[2]).cf();e=1/B5b(g,c[4],c[5],c[6]).cf();f=1/B5b(g,c[8],c[9],c[10]).cf();a.b[0]=c[0]*d;a.b[1]=c[1]*d;a.b[2]=c[2]*d;a.b[4]=c[4]*e;a.b[5]=c[5]*e;a.b[6]=c[6]*e;a.b[8]=c[8]*f;a.b[9]=c[9]*f;a.b[10]=c[10]*f;return a}
function H0b(a){var b;b=new V0b;OYb(a,b);D2b(b.f,a.f);D2b(b.c,a.c);D2b(b.i,a.i);D2b(b.H,a.H);b.G=a.G;b.n=a.n;b.s=a.s;b.L.pf(a.L);b.u=a.u;b.t=a.t;b.d=a.d;b.e=a.e;b.v=a.v;O4b(b.w,a.w);b.I=a.I;b.b=a.b;b.j=a.j;b.g=a.g;b.C=a.C;b.D=a.D;b.k=a.k;b.F=a.F;b.r=a.r;b.K=a.K;b.J=a.J;b.q=a.q;b.p=a.p;b.o=a.o;return b}
function txc(a){DMb(Xu(xRb(SYb(a.q).j,QTc),225),a.C);DMb(Xu(xRb(SYb(a.q).j,RTc),225),a.D);DMb(Xu(xRb(SYb(a.q).j,STc),225),new Yjb(a.b));DMb(Xu(xRb(SYb(a.q).j,ETc),225),new Yjb(0));DMb(Xu(xRb(SYb(a.q).j,TTc),225),a.e);DMb(Xu(xRb(SYb(a.q).j,UTc),225),a.f);DMb(Xu(xRb(SYb(a.q).j,VTc),225),a.i);DMb(Xu(xRb(SYb(a.q).j,WTc),225),a.g);DMb(Xu(xRb(SYb(a.q).j,XTc),225),new Yjb(20));DMb(Xu(xRb(SYb(a.q).j,PTc),225),a.c);TOb(Nu(pS,zLc,0,[SYb(a.q).j]));if(!k3b(a.j)||!k3b(a.d)){nNb(a.C,false);nNb(a.B,false)}sxc(a);jwc(a)}
function uxc(a,b){$Ob();var c;qPb.call(this);new N2b(8355711);this.t=new _3b;this.v=new H5b(0,0,1);this.u=new G5b;this.n=new G5b;this.A=new R3b;this.p=new H5b(0,0,-1);this.o=new s6b;this.D=new R3b;gPb(this,'mirror_ '+this.S);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new H5b(0.70707,0.70707,0);this.f=new N2b(16777215);this.i=new N2b(8355711);this.c=new H5b(0,0,0);gPb(this,'water_'+this.S);this.w=a;if(b){this.k=b}else{this.k=new $Pb;VOb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.D=new R3b;this.s=UPb(this.k);this.C=new _Nb(this.j,this.d);this.B=new _Nb(this.j,this.d);c=new wxc;i8b(c.j);this.q=new Z1b(c);cZb(this.q,true)}
function sxc(a){var b,c,d,e,f,g;pPb(a,false);pPb(a.k,false);C5b(a.u,a.Y);C5b(a.n,a.k.Y);C3b(a.A,a.Y);B5b(a.v,0,0,1);p5b(a.v,a.A);f=a.u.of().wf(a.n);z5b(f,a.v).tf();f.nf(a.u);C3b(a.A,a.k.Y);B5b(a.p,0,0,-1);p5b(a.p,a.A);a.p.nf(a.n);e=a.u.of().wf(a.p);z5b(e,a.v).tf();e.nf(a.u);B5b(a.gb,0,-1,0);p5b(a.gb,a.A);z5b(a.gb,a.v).tf();a.s.ab.pf(f);iPb(a.s,a.gb);xPb(a.s,e);VPb(a.s,a.k.b);ZPb(a.s);pPb(a.s,false);E3b(a.s.p,a.s.Y);Q3b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);O3b(a.D,a.s.q);O3b(a.D,a.s.p);$3b(a.t,a.v,a.u);V3b(a.t,a.s.p);p6b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new s6b;c=a.s.q;R4b(d,(l3b(a.o.d)+c.b[8])/c.b[0]);S4b(d,(l3b(a.o.e)+c.b[9])/c.b[5]);d.c=-1;q6b(d,(1+c.b[10])/c.b[14]);new s6b;b=o6b(a.o,2/n6b(a.o,d));Ozb(c.b,2,b.d);Ozb(c.b,6,b.e);Ozb(c.b,10,b.c+1);Ozb(c.b,14,b.b);g=new G5b;C5b(g,a.k.Y);a.c=g;DMb(Xu(xRb(SYb(a.q).j,PTc),225),a.c)}
var STc='alpha',XTc='distortionScale',PTc='eye',QTc='mirrorSampler',TTc='normalSampler',UTc='sunColor',WTc='sunDirection',RTc='textureMatrix',VTc='waterColor';vU(808,1,UMc);_._d=function rPb(){return aPb(this,new qPb,true)};vU(807,808,{78:1,186:1,248:1});_.ce=function zPb(){return wPb(this,new yPb)};_._d=function APb(){return this.ce()};vU(810,807,{78:1,186:1,235:1,248:1});_.ce=function QPb(){var a;return a=new OPb(10,10,10,10),wPb(this,a),a.i=this.i,a.d=this.d,a.f=this.f,a.g=this.g,a.b=this.b,a.e=this.e,a.c=this.c,A3b(a.q,this.q),a};vU(811,807,{78:1,186:1,236:1,248:1});_.ce=function aQb(){return UPb(this)};vU(893,832,$Mc);_._d=function oXb(){return gXb(this,new nXb(Xu(this.u,241),Xu(this.v,280),this.f))};vU(894,895,_Mc);_._d=function BXb(){var a;return a=new AXb(0),aPb(this,a,true),D2b(a.M,this.M),a};vU(897,898,{248:1,257:1,259:1,261:1});_._d=function cYb(){return XXb(this)};vU(900,895,{248:1,258:1,259:1},jYb);_._d=function lYb(){var a;return a=new jYb,aPb(this,a,true),D2b(a.M,this.M),D2b(a.b,this.b),a.c=this.c,a};vU(902,895,{248:1,259:1,260:1},tYb);_._d=function vYb(){var a;return a=new tYb,aPb(this,a,true),D2b(a.M,this.M),a.c=this.c,a.b=this.b,a};vU(907,908,{267:1,269:1,277:1,280:1,281:1});_.Te=function lZb(){var a;return a=new kZb,OYb(this,a),D2b(a.b,this.b),a.d=this.d,a.e=this.e,a.c=this.c,a};vU(914,908,{264:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,281:1,287:1});_.Te=function $$b(){var a;return a=new Z$b,OYb(this,a),D2b(a.c,this.c),a.n=this.n,a.k=this.k,a.t=this.t,a.b=this.b,a.e=this.e,a.d=this.d,a.q=this.q,a.r=this.r,a.f=this.f,a.s=this.s,a.j=this.j,a.v=this.v,a.u=this.u,a.i=this.i,a.g=this.g,a};vU(915,908,{281:1,288:1},D_b);_.Te=function F_b(){return C_b(this)};vU(916,908,{264:1,265:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,289:1});_.Te=function S_b(){return I_b(this)};vU(917,908,{274:1,278:1,281:1});_.Te=function A0b(){var a;return a=new z0b,OYb(this,a),a.c=this.c,a.b=this.b,a.d=this.d,a};vU(918,908,{264:1,265:1,266:1,267:1,268:1,269:1,270:1,271:1,272:1,273:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,290:1});_.Te=function W0b(){return H0b(this)};vU(919,908,{267:1,269:1,271:1,277:1,281:1,291:1});_.Te=function F1b(){var a;return a=new E1b,OYb(this,a),D2b(a.b,this.b),a.d=this.d,a.e=this.e,a.f=this.f,a.g=this.g,a.c=this.c,a};vU(921,908,{267:1,269:1,274:1,275:1,277:1,278:1,281:1,292:1});_.Te=function $1b(){var a;return a=new W1b,OYb(this,a),a.n=this.n,a.o=this.o,a.i=this.i,a.q=this.q,a.c=this.c,a.d=this.d,a.p=this.p,a.g=this.g,a.f=this.f,a.e=this.g,a};vU(937,936,{296:1,297:1,299:1});_.tf=function _5b(){this.d=-this.d;this.e=-this.e;this.c=-this.c;return this};vU(938,937,{296:1,297:1,299:1,301:1},s6b);_.tf=function G6b(){return this.d=-this.d,this.e=-this.e,this.c=-this.c,this.b=-this.b,this};vU(941,832,{247:1,248:1,304:1});_._d=function e7b(){return this.xf()};_.xf=function f7b(){return Z6b(this,new d7b(this.u,this.v))};vU(942,941,{247:1,248:1,304:1,305:1});_.xf=function o7b(){return j7b(this,new n7b(Xu(this.u,241),this.v))};vU(943,832,{247:1,248:1,306:1});_._d=function y7b(){return s7b(this,new x7b(Xu(this.u,241),Xu(this.v,291)))};vU(945,944,{307:1},G7b);_.yf=function I7b(){var a;return a=new G7b,a.e=this.e,a.d=C2b(this.d),a.c=this.c,a.b=this.b,a};vU(946,944,{308:1},L7b);_.yf=function N7b(){var a;return a=new L7b,a.e=this.e,a.d=C2b(this.d),a.b=this.b,a};vU(947,808,{248:1,309:1});_._d=function T7b(){return Q7b(this,new S7b)};vU(1192,1,dNc);_.Db=function mpc(){M8b(this.c,new opc(this.b))};vU(1193,967,aNc,opc);_.Md=function ppc(a){};_.ob=function qpc(){var a,b,c,d,e,f,g,i,j,k,n;Mt((Rxb(),Qxb),(_xb(),$xb),this);this.b=new _Pb(55,NGb(this.H.n),0.5,3000000);B5b(this.b.ab,2000,750,2000);this.c=new rwb(this.b,this.H.d);this.c.r=500;this.c.f=0.1;d=new kYb(16777147,526368,1);B5b(d.ab,-1,1,-1);_Ob(this.I,d);this.f=new uxc(this.H.n,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.ab.of().uf();this.f.f=new N2b(16777215);this.f.i=new N2b(7695);n=new FNb('./static/textures/waternormals.jpg',new tpc(this));yNb(n,(QFb(),PFb));zNb(n,PFb);g=new d7b(new hWb(1000000,1000000),this.f.q);_Ob(g,this.f);$2b(g.db,-1.5707963267948966);_Ob(this.I,g);k=new NNb(sTc);e=new Z$b;T$b(e,new N2b(16777215));e.e=k;i=new Z1b(new kJb);DMb(Xu(xRb(SYb(i).j,pTc),225),k);i.T=false;bZb(i,(P$b(),M$b));f=new d7b(new DVb(1000000,1000000,1000000),i);_Ob(this.I,f);a=new WVb(400,4);for(b=0,c=a.j.Wc();b<c;b++){K2b(Xu(a.j.Oc(b),240).g,dv(1118481+Zkb(dlb()*15658735)))}j=new V0b;T0b(j,(KZb(),HZb));j.j=k;j.G=100;this.e=new d7b(a,j)};_.pb=function rpc(a){var b;b=Ch()*0.001;S4b(this.e.ab,flb(b)*500+250);_2b(this.e.db,b*0.5);a3b(this.e.db,b*0.51);DMb(Xu(xRb(SYb(this.f.q).j,ETc),225),new Yjb(Xu(Xu(xRb(SYb(this.f.q).j,ETc),225).e,150).b+0.016666666666666666));jwc(this.f);qwb(this.c,(Ch()-this.d)*0.001);this.d=Ch();ZGb(this.H.n,this.I,this.b,null,false);TOb(Nu(pS,zLc,0,[this.b.ab,this.b.db,this.b.W]))};_.d=0;vU(1194,1,{},tpc);_.$d=function upc(a){this.b.f.e=a;txc(this.b.f)};vU(1318,808,UMc);_.r=false;vU(1337,1318,UMc,uxc);_.b=0;_.d=0;_.j=0;vU(1338,731,SMc,wxc);_.Rd=function xxc(){yIb(this,TTc,new FMb((YMb(),QMb),null));yIb(this,QTc,new FMb(QMb,null));yIb(this,STc,new FMb(KMb,new Yjb(1)));yIb(this,ETc,new FMb(KMb,new Yjb(0)));yIb(this,XTc,new FMb(KMb,new Yjb(20)));yIb(this,RTc,new FMb(OMb,new R3b));yIb(this,UTc,new FMb(JMb,new N2b(8355711)));yIb(this,WTc,new FMb(UMb,new H5b(0.70707,0.70707,0)));yIb(this,PTc,new FMb(UMb,new H5b(0,0,0)));yIb(this,VTc,new FMb(JMb,new N2b(5592405)))};var yxc;vU(1339,1,{},Dxc);_.Ud=function Exc(){return Mxc(),Bxc};_.Vd=function Fxc(){return Nxc(),Cxc};var Bxc,Cxc;vU(1340,1,{},Hxc);_.tc=function Ixc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};vU(1341,1,{},Kxc);_.tc=function Lxc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var dO=Mjb(dSc,'ShaderOcean$DemoScene',1193),cO=Mjb(dSc,'ShaderOcean$DemoScene$1',1194),iP=Mjb(YRc,'Mirror',1318),zP=Mjb(YRc,'Water',1337),yP=Mjb(YRc,'WaterShader',1338),xP=Mjb(YRc,'WaterShader_Resources_default_InlineClientBundleGenerator',1339),vP=Mjb(YRc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1340),wP=Mjb(YRc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1341);rNc(Ii)(33);