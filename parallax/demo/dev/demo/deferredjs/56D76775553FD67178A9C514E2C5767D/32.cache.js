function ntc(){}
function rtc(){}
function utc(){}
function xNb(a,b){a.$=b}
function aWb(a,b){a.t=b}
function lWb(a,b){a.L=b}
function B4b(a,b){a.b=b}
function zNb(a,b){a.gb=b}
function Wmc(a){this.b=a}
function Rmc(){t7b.call(this)}
function BWb(){CWb.call(this,0,0,1)}
function KWb(){LWb.call(this,0,1,0)}
function D4b(){E4b.call(this,0,0,0,1)}
function P5b(){Q5b.call(this,0,1,1000)}
function U5b(){V5b.call(this,0,2.5E-4)}
function gtc(){_Gb.call(this,(jtc(),itc))}
function jtc(){jtc=dFc;itc=new ntc}
function wtc(){wtc=dFc;ltc=new rtc}
function xtc(){xtc=dFc;mtc=new utc}
function u1b(a){return a<0?-1:a>0?1:0}
function yVb(a,b){rNb(a,b,true);return b}
function i5b(a,b){rNb(a,b,false);return b}
function C5b(a,b){rNb(a,b,true);b.b=a.b;return b}
function RKb(a){var b;b=new WKb(a.d,a.e);b.b=a.b;return b}
function ONb(a,b){rNb(a,b,true);J1b(b.p,a.p);J1b(b.q,a.q);return b}
function j2b(a,b,c){a.c.lf(b);a.b=-G3b(c,a.c);return a}
function y4b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function K3b(a,b){var c;c=new R3b;return a.sf(c.lf(b).of(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function e2b(a,b){var c;c=new C1b;return f2b(a,b,(B1b(y1b(c,b)),c))}
function CWb(a,b,c){pNb();RVb.call(this,a);this.b=new W0b(b);this.ab=new S3b(0,100,0);this.c=c}
function Z5b(a,b){rNb(a,b,true);!!a.c&&(b.c=a.c.uf());!!a.d&&(b.d=a.d.Pe());b.b=a.b;b.X=a.X;return b}
function kOb(a){var b;b=new qOb;ONb(a,b);b.o=a.o;b.d=a.d;b.b=a.b;b.i=a.i;b.c=a.c;J1b(b.q,a.q);return b}
function osc(a){var b;a.r&&ctc(a);a.r=true;b=a;while(b._){b=b._}!!b&&Iu(b,306)&&oFb(a.w,Fu(b,306),a.s,a.C,true)}
function r6b(a){var b,c,d;b=new Qrb;for(d=BQb((new oQb(a)).b.b).bc();d.Dc();){c=Fu(d.Ec(),1);mnb(b,c,RKb(Fu(a.b[UHc+c],225)))}return b}
function f2b(a,b,c){var d,e,f,g;f=new R3b;g=new R3b;e=z3b(f.lf(a.c),c);d=g.lf(a.c).of(-a.b);A3b(d,b);a.c.lf(e);a.b=-G3b(d,a.c);return a}
function eXb(a,b){b.Z=a.Z;b.db=a.db;b.$=a.$;b.X=a.X;b.Q=a.Q;b.P=a.P;b.N=a.N;b.O=a.O;b.S=a.S;b.T=a.T;b.V=a.V;b.ab=a.ab;b.bb=a.bb;b.M=a.M;b._=a._;b.Y=a.Y;return b}
function VZb(a){var b;b=new c$b;eXb(a,b);M0b(b.d,a.d);M0b(b.c,a.c);M0b(b.f,a.f);b.p=a.p;b.D.lf(a.D);b.r=a.r;b.q=a.q;b.A=a.A;b.b=a.b;b.g=a.g;b.e=a.e;b.u=a.u;b.v=a.v;b.i=a.i;b.w=a.w;b.o=a.o;b.C=a.C;b.B=a.B;b.n=a.n;b.k=a.k;b.j=a.j;return b}
function nWb(a){var b;b=new sWb(0);rNb(a,b,true);M0b(b.M,a.M);lWb(b,a.L.Wd());aWb(b,a.t);vNb(b,a.T);b.u=a.u;b.B=a.B;b.A=a.A;b.f=a.f;b.g=a.g;b.i=a.i;b.e=a.e;b.C=a.C;b.v=a.v;b.F=a.F;b.J=a.J;b.H=a.H;b.D=a.D;b.q.lf(a.q);b.k=a.k;b.j=a.j;b.r=a.r;b.o=a.o;b.p=a.p;b.n=a.n;return b}
function rNb(a,b,c){var d,e;b.$=a.$;b.gb.lf(a.gb);b.ab.lf(a.ab);n2b(b.bb,a.bb);b.fb.lf(a.fb);b.cb=a.cb;b.eb=a.eb;J1b(b.W,a.W);J1b(b.Y,a.Y);b.X=a.X;b.Z=a.Z;b.hb=a.hb;b.T=a.T;b.V=a.V;b.U=a.U;if(c){for(e=0;e<a.R.c;e++){d=Fu(_ob(a.R,e),248);qNb(b,d.Wd())}}return b}
function L1b(a,b){var c,d,e,f,g;c=b.b;g=new R3b;d=1/M3b(g,c[0],c[1],c[2]).$e();e=1/M3b(g,c[4],c[5],c[6]).$e();f=1/M3b(g,c[8],c[9],c[10]).$e();a.b[0]=c[0]*d;a.b[1]=c[1]*d;a.b[2]=c[2]*d;a.b[4]=c[4]*e;a.b[5]=c[5]*e;a.b[6]=c[6]*e;a.b[8]=c[8]*f;a.b[9]=c[9]*f;a.b[10]=c[10]*f;return a}
function S$b(a){var b;b=new d_b;eXb(a,b);M0b(b.f,a.f);M0b(b.c,a.c);M0b(b.i,a.i);M0b(b.H,a.H);b.G=a.G;b.n=a.n;b.s=a.s;b.L.lf(a.L);b.u=a.u;b.t=a.t;b.d=a.d;b.e=a.e;b.v=a.v;Z2b(b.w,a.w);b.I=a.I;b.b=a.b;b.j=a.j;b.g=a.g;b.C=a.C;b.D=a.D;b.k=a.k;b.F=a.F;b.r=a.r;b.K=a.K;b.J=a.J;b.q=a.q;b.p=a.p;b.o=a.o;return b}
function dtc(a){UKb(Fu(PPb(iXb(a.q).j,qNc),225),a.C);UKb(Fu(PPb(iXb(a.q).j,rNc),225),a.D);UKb(Fu(PPb(iXb(a.q).j,sNc),225),new tib(a.b));UKb(Fu(PPb(iXb(a.q).j,eNc),225),new tib(0));UKb(Fu(PPb(iXb(a.q).j,tNc),225),a.e);UKb(Fu(PPb(iXb(a.q).j,uNc),225),a.f);UKb(Fu(PPb(iXb(a.q).j,vNc),225),a.i);UKb(Fu(PPb(iXb(a.q).j,wNc),225),a.g);UKb(Fu(PPb(iXb(a.q).j,xNc),225),new tib(20));UKb(Fu(PPb(iXb(a.q).j,pNc),225),a.c);iNb(vu(VQ,jFc,0,[iXb(a.q).j]));if(!t1b(a.j)||!t1b(a.d)){ELb(a.C,false);ELb(a.B,false)}ctc(a);osc(a)}
function etc(a,b){pNb();var c;HNb.call(this);new W0b(8355711);this.t=new k2b;this.v=new S3b(0,0,1);this.u=new R3b;this.n=new R3b;this.A=new a2b;this.p=new S3b(0,0,-1);this.o=new D4b;this.D=new a2b;xNb(this,'mirror_ '+this.S);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new S3b(0.70707,0.70707,0);this.f=new W0b(16777215);this.i=new W0b(8355711);this.c=new S3b(0,0,0);xNb(this,'water_'+this.S);this.w=a;if(b){this.k=b}else{this.k=new qOb;kNb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.D=new a2b;this.s=kOb(this.k);this.C=new qMb(this.j,this.d);this.B=new qMb(this.j,this.d);c=new gtc;r6b(c.j);this.q=new f0b(c);uXb(this.q,true)}
function ctc(a){var b,c,d,e,f,g;GNb(a,false);GNb(a.k,false);N3b(a.u,a.Y);N3b(a.n,a.k.Y);L1b(a.A,a.Y);M3b(a.v,0,0,1);A3b(a.v,a.A);f=a.u.kf().sf(a.n);K3b(f,a.v).pf();f.jf(a.u);L1b(a.A,a.k.Y);M3b(a.p,0,0,-1);A3b(a.p,a.A);a.p.jf(a.n);e=a.u.kf().sf(a.p);K3b(e,a.v).pf();e.jf(a.u);M3b(a.gb,0,-1,0);A3b(a.gb,a.A);K3b(a.gb,a.v).pf();a.s.ab.lf(f);zNb(a.s,a.gb);PNb(a.s,e);lOb(a.s,a.k.b);pOb(a.s);GNb(a.s,false);N1b(a.s.p,a.s.Y);$1b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);X1b(a.D,a.s.q);X1b(a.D,a.s.p);j2b(a.t,a.v,a.u);e2b(a.t,a.s.p);A4b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new D4b;c=a.s.q;a3b(d,(u1b(a.o.d)+c.b[8])/c.b[0]);b3b(d,(u1b(a.o.e)+c.b[9])/c.b[5]);d.c=-1;B4b(d,(1+c.b[10])/c.b[14]);new D4b;b=z4b(a.o,2/y4b(a.o,d));gyb(c.b,2,b.d);gyb(c.b,6,b.e);gyb(c.b,10,b.c+1);gyb(c.b,14,b.b);g=new R3b;N3b(g,a.k.Y);a.c=g;UKb(Fu(PPb(iXb(a.q).j,pNc),225),a.c)}
var sNc='alpha',xNc='distortionScale',pNc='eye',qNc='mirrorSampler',tNc='normalSampler',uNc='sunColor',wNc='sunDirection',rNc='textureMatrix',vNc='waterColor';bT(796,1,DGc);_.Wd=function INb(){return rNb(this,new HNb,true)};bT(795,796,{78:1,186:1,248:1});_.$d=function RNb(){return ONb(this,new QNb)};_.Wd=function SNb(){return this.$d()};bT(798,795,{78:1,186:1,235:1,248:1});_.$d=function gOb(){var a;return a=new eOb(10,10,10,10),ONb(this,a),a.i=this.i,a.d=this.d,a.f=this.f,a.g=this.g,a.b=this.b,a.e=this.e,a.c=this.c,J1b(a.q,this.q),a};bT(799,795,{78:1,186:1,236:1,248:1});_.$d=function sOb(){return kOb(this)};bT(881,820,JGc);_.Wd=function GVb(){return yVb(this,new FVb(Fu(this.u,241),Fu(this.v,280),this.d))};bT(882,883,KGc);_.Wd=function TVb(){var a;return a=new SVb(0),rNb(this,a,true),M0b(a.M,this.M),a};bT(885,886,{248:1,257:1,259:1,261:1});_.Wd=function uWb(){return nWb(this)};bT(888,883,{248:1,258:1,259:1},BWb,CWb);_.Wd=function DWb(){var a;return a=new BWb,rNb(this,a,true),M0b(a.M,this.M),M0b(a.b,this.b),a.c=this.c,a};_.ke=function EWb(a,b){var c,d,e,f,g,i,j,k;i=a.d.d;e=a.d.b;g=a.d.c;k=this.M;d=this.b;j=this.c;f=i.length*3;if(b){PVb(i,f,k,j);PVb(e,f,d,j)}else{QVb(i,f,k,j);QVb(e,f,d,j)}c=new R3b;N3b(c,this.Y);c.qf();gyb(g,f,c.d);gyb(g,f+1,c.e);gyb(g,f+2,c.c)};_.c=0;bT(890,883,{248:1,259:1,260:1},KWb);_.Wd=function MWb(){var a;return a=new KWb,rNb(this,a,true),M0b(a.M,this.M),a.c=this.c,a.b=this.b,a};bT(895,896,{267:1,269:1,277:1,280:1,281:1});_.Pe=function EXb(){var a;return a=new DXb,eXb(this,a),M0b(a.b,this.b),a.d=this.d,a.e=this.e,a.c=this.c,a};bT(902,896,{264:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,281:1,287:1});_.Pe=function sZb(){var a;return a=new qZb,eXb(this,a),M0b(a.c,this.c),a.n=this.n,a.k=this.k,a.t=this.t,a.b=this.b,a.e=this.e,a.d=this.d,a.q=this.q,a.r=this.r,a.f=this.f,a.s=this.s,a.j=this.j,a.v=this.v,a.u=this.u,a.i=this.i,a.g=this.g,a};bT(903,896,{264:1,265:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,288:1});_.Pe=function d$b(){return VZb(this)};bT(904,896,{274:1,278:1,281:1});_.Pe=function L$b(){var a;return a=new K$b,eXb(this,a),a.c=this.c,a.b=this.b,a.d=this.d,a};bT(905,896,{264:1,265:1,266:1,267:1,268:1,269:1,270:1,271:1,272:1,273:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,289:1});_.Pe=function e_b(){return S$b(this)};bT(906,896,{267:1,269:1,271:1,277:1,281:1,290:1});_.Pe=function N_b(){var a;return a=new M_b,eXb(this,a),M0b(a.b,this.b),a.d=this.d,a.e=this.e,a.f=this.f,a.g=this.g,a.c=this.c,a};bT(908,896,{267:1,269:1,274:1,275:1,277:1,278:1,281:1,291:1});_.Pe=function h0b(){var a;return a=new c0b,eXb(this,a),a.n=this.n,a.o=this.o,a.i=this.i,a.q=this.q,a.c=this.c,a.d=this.d,a.p=this.p,a.g=this.g,a.f=this.f,a.e=this.g,a};bT(924,923,{295:1,296:1,298:1});_.pf=function k4b(){this.d=-this.d;this.e=-this.e;this.c=-this.c;return this};bT(925,924,{295:1,296:1,298:1,300:1},D4b);_.pf=function R4b(){return this.d=-this.d,this.e=-this.e,this.c=-this.c,this.b=-this.b,this};bT(928,820,{247:1,248:1,303:1});_.Wd=function p5b(){return this.tf()};_.tf=function q5b(){return i5b(this,new o5b(this.u,this.v))};bT(930,820,{247:1,248:1,305:1});_.Wd=function I5b(){return C5b(this,new H5b(Fu(this.u,241),Fu(this.v,290)))};bT(932,931,{},P5b);_.uf=function R5b(){var a;return a=new P5b,a.e=this.e,a.d=L0b(this.d),a.c=this.c,a.b=this.b,a};bT(933,931,{},U5b);_.uf=function W5b(){var a;return a=new U5b,a.e=this.e,a.d=L0b(this.d),a.b=this.b,a};bT(934,796,{248:1,306:1});_.Wd=function a6b(){return Z5b(this,new _5b)};bT(1169,1,OGc);_.Db=function Pmc(){V6b(this.c,new Rmc(this.b))};bT(1170,954,LGc,Rmc);_.Hd=function Smc(a){};_.ob=function Tmc(){var a,b,c,d,e,f,g,i,j,k,n;ut((jwb(),iwb),(twb(),swb),this);this.b=new rOb(55,cFb(this.F.n),0.5,3000000);M3b(this.b.ab,2000,750,2000);this.c=new Mub(this.b,this.F.d);this.c.r=500;this.c.f=0.1;d=new CWb(16777147,526368,1);M3b(d.ab,-1,1,-1);qNb(this.G,d);this.f=new etc(this.F.n,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.ab.kf().qf();this.f.f=new W0b(16777215);this.f.i=new W0b(7695);n=new WLb('./static/textures/waternormals.jpg',new Wmc(this));PLb(n,(gEb(),fEb));QLb(n,fEb);g=new o5b(new zUb(1000000,1000000),this.f.q);qNb(g,this.f);h1b(g.db,-1.5707963267948966);qNb(this.G,g);k=new cMb(UMc);e=new qZb;kZb(e,new W0b(16777215));e.e=k;i=new f0b(new BHb);UKb(Fu(PPb(iXb(i).j,RMc),225),k);i.T=false;tXb(i,(gZb(),dZb));f=new o5b(new VTb(1000000,1000000,1000000),i);qNb(this.G,f);a=new mUb(400,4);for(b=0,c=a.j.Sc();b<c;b++){T0b(Fu(a.j.Kc(b),240).g,Nu(1118481+ujb(Ajb()*15658735)))}j=new d_b;b_b(j,(bYb(),$Xb));j.j=k;j.G=100;this.e=new o5b(a,j);qNb(this.G,this.e)};_.pb=function Umc(a){var b;b=Bh()*0.001;b3b(this.e.ab,Cjb(b)*500+250);i1b(this.e.db,b*0.5);j1b(this.e.db,b*0.51);UKb(Fu(PPb(iXb(this.f.q).j,eNc),225),new tib(Fu(Fu(PPb(iXb(this.f.q).j,eNc),225).e,150).b+0.016666666666666666));osc(this.f);Lub(this.c,(Bh()-this.d)*0.001);this.d=Bh();oFb(this.F.n,this.G,this.b,null,false);iNb(vu(VQ,jFc,0,[this.b.ab,this.b.db,this.b.W]))};_.d=0;bT(1171,1,{},Wmc);_.Vd=function Xmc(a){this.b.f.e=a;dtc(this.b.f)};bT(1274,796,DGc);_.r=false;bT(1287,1274,DGc,etc);_.b=0;_.d=0;_.j=0;bT(1288,719,BGc,gtc);_.Md=function htc(){PGb(this,tNc,new WKb((nLb(),fLb),null));PGb(this,qNc,new WKb(fLb,null));PGb(this,sNc,new WKb(_Kb,new tib(1)));PGb(this,eNc,new WKb(_Kb,new tib(0)));PGb(this,xNc,new WKb(_Kb,new tib(20)));PGb(this,rNc,new WKb(dLb,new a2b));PGb(this,uNc,new WKb($Kb,new W0b(8355711)));PGb(this,wNc,new WKb(jLb,new S3b(0.70707,0.70707,0)));PGb(this,pNc,new WKb(jLb,new S3b(0,0,0)));PGb(this,vNc,new WKb($Kb,new W0b(5592405)))};var itc;bT(1289,1,{},ntc);_.Pd=function otc(){return wtc(),ltc};_.Qd=function ptc(){return xtc(),mtc};var ltc,mtc;bT(1290,1,{},rtc);_.dc=function stc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};bT(1291,1,{},utc);_.dc=function vtc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var uN=hib(HLc,'ShaderOcean$DemoScene',1170),tN=hib(HLc,'ShaderOcean$DemoScene$1',1171),jO=hib(ALc,'Mirror',1274),wO=hib(ALc,'Water',1287),AI=hib(yNc,'HemisphereLight',888),vO=hib(ALc,'WaterShader',1288),uO=hib(ALc,'WaterShader_Resources_default_InlineClientBundleGenerator',1289),sO=hib(ALc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1290),tO=hib(ALc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1291);_Gc(Hi)(32);