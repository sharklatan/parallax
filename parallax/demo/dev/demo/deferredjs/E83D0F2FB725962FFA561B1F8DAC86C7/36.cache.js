function Rrc(){}
function Vrc(){}
function Yrc(){}
function DLb(a,b){a._=b}
function yMb(a,b){a.i=b}
function FLb(a,b){a.hb=b}
function skc(a){this.b=a}
function nkc(){$4b.call(this)}
function Krc(){XEb.call(this,(Nrc(),Mrc))}
function AMb(){BMb.call(this,50,1,0.1,2000)}
function Nrc(){Nrc=tDc;Mrc=new Rrc}
function $rc(){$rc=tDc;Prc=new Vrc}
function _rc(){_rc=tDc;Qrc=new Yrc}
function Frc(a){return a!=0?a<0?-1:1:0}
function h0b(a,b){return b.zf(a.c).Bf(-a.b)}
function f0b(a,b){return g0b(a,b,p_b(n_b(new q_b,b)))}
function t2b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function _Ib(a){var b;b=new eJb(a.d,a.e);b.b=a.b;return b}
function K1b(a,b){a.d=b.b[12];a.e=b.b[13];a.c=b.b[14];return a}
function aMb(a,b){!b&&(b=new cMb);yLb(a,b);A_b(b.q,a.q);A_b(b.r,a.r);return b}
function uMb(a){var b;b=new AMb;aMb(a,b);xMb(b,a.d);vMb(b,a.b);yMb(b,a.i);wMb(b,a.c);A_b(b.r,a.r);return b}
function g0b(a,b,c){var d,e;e=A1b(c0b.zf(a.c),c);d=h0b(a,d0b);B1b(d,b);a.c.zf(e);a.b=-E1b(d,a.c);return a}
function F1b(a,b){var c;c=new N1b;return a.Ff(c.zf(b).Bf(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function vqc(a){var b;a.r&&Grc(a);a.r=true;b=a;while(b.ab){b=b.ab}!!b&&Xu(b,247)&&GDb(a.w,Uu(b,247),a.s,a.C,true)}
function t4b(a){var b,c,d;b=new Arb;for(d=$Ob((new NOb(a)).b.b).kc();d.Mc();){c=Uu(d.Nc(),1);_mb(b,c,_Ib(Uu(a.b[_Fc+c],168)))}return b}
function yLb(a,b){var c,d;b._=a._;b.hb.zf(a.hb);b.bb.zf(a.bb);b.eb.zf(a.eb);b.P=a.P;b.gb.zf(a.gb);b.db=a.db;b.fb=a.fb;A_b(b.W,a.W);A_b(b.Z,a.Z);A_b(b.Y,a.Y);b.X=a.X;b.$=a.$;p0b(b.cb,a.cb);b.ib=a.ib;b.kb=a.kb;b.R=a.R;b.T=a.T;b.S=a.S;for(d=0;d<a.O.c;d++){c=Uu(Oob(a.O,d),238);xLb(b,c._d())}return b}
function Hrc(a){cJb(Uu(mOb(GVb(a.q).j,uLc),168),a.C);cJb(Uu(mOb(GVb(a.q).j,vLc),168),a.D);cJb(Uu(mOb(GVb(a.q).j,wLc),168),new gib(a.b));cJb(Uu(mOb(GVb(a.q).j,iLc),168),new gib(0));cJb(Uu(mOb(GVb(a.q).j,xLc),168),a.e);cJb(Uu(mOb(GVb(a.q).j,yLc),168),a.f);cJb(Uu(mOb(GVb(a.q).j,zLc),168),a.i);cJb(Uu(mOb(GVb(a.q).j,ALc),168),a.g);cJb(Uu(mOb(GVb(a.q).j,BLc),168),new gib(20));cJb(Uu(mOb(GVb(a.q).j,tLc),168),a.c);qLb(Ku(fR,zDc,0,[GVb(a.q).j]));if(!l_b(a.j)||!l_b(a.d)){a.C.s=false;a.B.s=false}Grc(a);vqc(a)}
function Irc(a,b){wLb();var c;NLb.call(this);new b_b(8355711);this.t=new m0b;this.v=new O1b(0,0,1);this.u=new N1b;this.n=new N1b;this.A=new __b;this.p=new O1b(0,0,-1);this.o=new y2b;this.D=new __b;DLb(this,'mirror_ '+this.Q);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new O1b(0.70707,0.70707,0);this.f=new b_b(16777215);this.i=new b_b(8355711);this.c=new O1b(0,0,0);DLb(this,'water_'+this.Q);this.w=a;if(b){this.k=b}else{this.k=new AMb;sLb(' -> Mirror() ID '+this._+': camera is not a Perspective Camera!')}this.D=new __b;this.s=uMb(this.k);this.C=new AKb(this.j,this.d);this.B=new AKb(this.j,this.d);c=new Krc;t4b(c.j);this.q=new r$b(c);SVb(this.q,true)}
function Grc(a){var b,c,d,e,f,g;MLb(a,false);MLb(a.k,false);K1b(a.u,a.Z);K1b(a.n,a.k.Z);D_b(a.A,a.Z);H1b(a.v,0,0,1);B1b(a.v,a.A);f=a.u.yf().Ff(a.n);F1b(f,a.v).Cf();f.xf(a.u);D_b(a.A,a.k.Z);H1b(a.p,0,0,-1);B1b(a.p,a.A);a.p.xf(a.n);e=a.u.yf().Ff(a.p);F1b(e,a.v).Cf();e.xf(a.u);H1b(a.hb,0,-1,0);B1b(a.hb,a.A);F1b(a.hb,a.v).Cf();a.s.bb.zf(f);FLb(a.s,a.hb);bMb(a.s,e);vMb(a.s,a.k.b);zMb(a.s);MLb(a.s,false);G_b(a.s.q,a.s.Z);X_b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);R_b(a.D,a.s.r);R_b(a.D,a.s.q);l0b(a.t,a.v,a.u);f0b(a.t,a.s.q);v2b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new y2b;c=a.s.r;b1b(d,(Frc(a.o.d)+c.b[8])/c.b[0]);c1b(d,(Frc(a.o.e)+c.b[9])/c.b[5]);d.c=-1;w2b(d,(1+c.b[10])/c.b[14]);new y2b;b=u2b(a.o,2/t2b(a.o,d));Mxb(c.b,2,b.d);Mxb(c.b,6,b.e);Mxb(c.b,10,b.c+1);Mxb(c.b,14,b.b);g=new N1b;K1b(g,a.k.Z);a.c=g;cJb(Uu(mOb(GVb(a.q).j,tLc),168),a.c)}
var wLc='alpha',BLc='distortionScale',tLc='eye',uLc='mirrorSampler',xLc='normalSampler',yLc='sunColor',ALc='sunDirection',vLc='textureMatrix',zLc='waterColor';kT(792,1,KEc);_._d=function OLb(){return this.ae()};_.ae=function PLb(){return yLb(this,new NLb)};kT(795,791,LEc,AMb);_._d=function CMb(){return uMb(this)};_.ae=function DMb(){return uMb(this)};kT(917,916,{233:1,234:1,236:1});_.Cf=function e2b(){return this.Bf(-1)};kT(918,917,{233:1,234:1,236:1,237:1});_.Cf=function M2b(){return u2b(this,-1)};kT(1154,1,UEc);_.Gb=function lkc(){X4b(this.c,new nkc(this.b))};kT(1155,940,REc,nkc);_.Pd=function okc(a){};_.rb=function pkc(){var a,b,c,d,e,f,g,i,j,k,n;It((Uvb(),Tvb),(cwb(),bwb),this);this.b=new BMb(55,BDb(this.H.o),0.5,3000000);H1b(this.b.bb,2000,750,2000);this.c=new uub(this.b,this.H.c);this.c.r=500;this.c.f=0.1;d=new YUb(16777147,526368,1);H1b(d.bb,-1,1,-1);xLb(this.I,d);this.f=new Irc(this.H.o,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.bb.yf().Df();this.f.f=new b_b(16777215);this.f.i=new b_b(7695);n=new cKb('./static/textures/waternormals.jpg',new skc(this));XJb(n,(_Cb(),$Cb));YJb(n,$Cb);g=new h3b(new OSb(1000000,1000000),this.f.q);xLb(g,this.f);b1b(g.eb,-1.5707963267948966);xLb(this.I,g);k=new kKb(ZKc);e=new NXb;IXb(e,new b_b(16777215));e.d=k;i=new r$b(new xFb);cJb(Uu(mOb(GVb(i).j,XKc),168),k);i.R=false;RVb(i,(EXb(),BXb));f=new h3b(new mSb(1000000,1000000,1000000),i);xLb(this.I,f);a=new ASb(400,4);for(b=0,c=a.o._c();b<c;b++){$$b(Uu(a.o.Tc(b),180).j,av(1118481+hjb(njb()*15658735)))}j=new vZb;tZb(j,(zWb(),wWb));j.D=100;this.e=new h3b(a,j)};_.sb=function qkc(a){var b;b=yh()*0.001;c1b(this.e.bb,pjb(b)*500+250);c1b(this.e.eb,b*0.5);L1b(this.e.eb,b*0.51);cJb(Uu(mOb(GVb(this.f.q).j,iLc),168),new gib(Uu(Uu(mOb(GVb(this.f.q).j,iLc),168).e,98).b+0.016666666666666666));vqc(this.f);tub(this.c,(yh()-this.d)*0.001);this.d=yh();GDb(this.H.o,this.I,this.b,null,false);qLb(Ku(fR,zDc,0,[this.b.bb,this.b.eb,this.b.W]))};_.d=0;kT(1156,1,{},skc);_.$d=function tkc(a){this.b.f.e=a;Hrc(this.b.f)};kT(1267,792,KEc);_.r=false;kT(1286,1267,KEc,Irc);_.b=0;_.d=0;_.j=0;kT(1287,709,IEc,Krc);_.Sd=function Lrc(){LEb(this,xLc,new eJb((xJb(),pJb),null));LEb(this,uLc,new eJb(pJb,null));LEb(this,wLc,new eJb(jJb,new gib(1)));LEb(this,iLc,new eJb(jJb,new gib(0)));LEb(this,BLc,new eJb(jJb,new gib(20)));LEb(this,vLc,new eJb(nJb,new __b));LEb(this,yLc,new eJb(iJb,new b_b(8355711)));LEb(this,ALc,new eJb(tJb,new O1b(0.70707,0.70707,0)));LEb(this,tLc,new eJb(tJb,new O1b(0,0,0)));LEb(this,zLc,new eJb(iJb,new b_b(5592405)))};var Mrc;kT(1288,1,{},Rrc);_.Vd=function Src(){return $rc(),Prc};_.Wd=function Trc(){return _rc(),Qrc};var Prc,Qrc;kT(1289,1,{},Vrc);_.mc=function Wrc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};kT(1290,1,{},Yrc);_.mc=function Zrc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var wN=Whb(NJc,'ShaderOcean$DemoScene',1155),vN=Whb(NJc,'ShaderOcean$DemoScene$1',1156),wO=Whb(GJc,'Mirror',1267),NO=Whb(GJc,'Water',1286),MO=Whb(GJc,'WaterShader',1287),LO=Whb(GJc,'WaterShader_Resources_default_InlineClientBundleGenerator',1288),JO=Whb(GJc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1289),KO=Whb(GJc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1290);fFc(Ei)(36);