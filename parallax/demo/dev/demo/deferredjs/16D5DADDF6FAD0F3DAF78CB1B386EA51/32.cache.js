function ywc(){}
function Cwc(){}
function Fwc(){}
function APb(a,b){a.$=b}
function V6b(a,b){a.b=b}
function DPb(a,b){a.gb=b}
function Qoc(a){this.b=a}
function Loc(){Q9b.call(this)}
function MYb(){NYb.call(this,0,0,1)}
function X6b(){Y6b.call(this,0,0,0,1)}
function rwc(){JIb.call(this,(uwc(),twc))}
function Iwc(){Iwc=oKc;xwc=new Fwc}
function uwc(){uwc=oKc;twc=new ywc}
function Hwc(){Hwc=oKc;wwc=new Cwc}
function P3b(a){return a<0?-1:a>0?1:0}
function S6b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function UMb(a){var b;b=new ZMb(a.d,a.e);b.b=a.b;return b}
function C4b(a,b,c){a.c.of(b);a.b=-Z5b(c,a.c);return a}
function x4b(a,b){var c;c=new X3b;return y4b(a,b,(W3b(T3b(c,b)),c))}
function c6b(a,b){var c;c=new j6b;return a.vf(c.of(b).rf(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function NYb(a,b,c){sPb();aYb.call(this,a);this.b=new p3b(b);this.ab=new k6b(0,100,0);this.c=c}
function evc(a){var b;a.r&&nwc(a);a.r=true;b=a;while(b._){b=b._}!!b&&Iu(b,309)&&YGb(a.w,Fu(b,309),a.s,a.C,true)}
function N8b(a){var b,c,d;b=new stb;for(d=KSb((new xSb(a)).b.b).cc();d.Ec();){c=Fu(d.Fc(),1);Qob(b,c,UMb(Fu(a.b[gNc+c],225)))}return b}
function y4b(a,b,c){var d,e,f,g;f=new j6b;g=new j6b;e=S5b(f.of(a.c),c);d=g.of(a.c).rf(-a.b);T5b(d,b);a.c.of(e);a.b=-Z5b(d,a.c);return a}
function e4b(a,b){var c,d,e,f,g;c=b.b;g=new j6b;d=1/e6b(g,c[0],c[1],c[2]).bf();e=1/e6b(g,c[4],c[5],c[6]).bf();f=1/e6b(g,c[8],c[9],c[10]).bf();a.b[0]=c[0]*d;a.b[1]=c[1]*d;a.b[2]=c[2]*d;a.b[4]=c[4]*e;a.b[5]=c[5]*e;a.b[6]=c[6]*e;a.b[8]=c[8]*f;a.b[9]=c[9]*f;a.b[10]=c[10]*f;return a}
function owc(a){XMb(Fu(YRb(tZb(a.q).j,DSc),225),a.C);XMb(Fu(YRb(tZb(a.q).j,ESc),225),a.D);XMb(Fu(YRb(tZb(a.q).j,FSc),225),new Wjb(a.b));XMb(Fu(YRb(tZb(a.q).j,rSc),225),new Wjb(0));XMb(Fu(YRb(tZb(a.q).j,GSc),225),a.e);XMb(Fu(YRb(tZb(a.q).j,HSc),225),a.f);XMb(Fu(YRb(tZb(a.q).j,ISc),225),a.i);XMb(Fu(YRb(tZb(a.q).j,JSc),225),a.g);XMb(Fu(YRb(tZb(a.q).j,KSc),225),new Wjb(20));XMb(Fu(YRb(tZb(a.q).j,CSc),225),a.c);lPb(vu(hS,uKc,0,[tZb(a.q).j]));if(!O3b(a.j)||!O3b(a.d)){HNb(a.C,false);HNb(a.B,false)}nwc(a);evc(a)}
function pwc(a,b){sPb();var c;LPb.call(this);new p3b(8355711);this.t=new D4b;this.v=new k6b(0,0,1);this.u=new j6b;this.n=new j6b;this.A=new t4b;this.p=new k6b(0,0,-1);this.o=new X6b;this.D=new t4b;APb(this,'mirror_ '+this.S);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new k6b(0.70707,0.70707,0);this.f=new p3b(16777215);this.i=new p3b(8355711);this.c=new k6b(0,0,0);APb(this,'water_'+this.S);this.w=a;if(b){this.k=b}else{this.k=new vQb;nPb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.D=new t4b;this.s=pQb(this.k);this.C=new tOb(this.j,this.d);this.B=new tOb(this.j,this.d);c=new rwc;N8b(c.j);this.q=new B2b(c);FZb(this.q,true)}
function nwc(a){var b,c,d,e,f,g;KPb(a,false);KPb(a.k,false);f6b(a.u,a.Y);f6b(a.n,a.k.Y);e4b(a.A,a.Y);e6b(a.v,0,0,1);T5b(a.v,a.A);f=a.u.nf().vf(a.n);c6b(f,a.v).sf();f.mf(a.u);e4b(a.A,a.k.Y);e6b(a.p,0,0,-1);T5b(a.p,a.A);a.p.mf(a.n);e=a.u.nf().vf(a.p);c6b(e,a.v).sf();e.mf(a.u);e6b(a.gb,0,-1,0);T5b(a.gb,a.A);c6b(a.gb,a.v).sf();a.s.ab.of(f);DPb(a.s,a.gb);SPb(a.s,e);qQb(a.s,a.k.b);uQb(a.s);KPb(a.s,false);g4b(a.s.p,a.s.Y);s4b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);q4b(a.D,a.s.q);q4b(a.D,a.s.p);C4b(a.t,a.v,a.u);x4b(a.t,a.s.p);U6b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new X6b;c=a.s.q;t5b(d,(P3b(a.o.d)+c.b[8])/c.b[0]);u5b(d,(P3b(a.o.e)+c.b[9])/c.b[5]);d.c=-1;V6b(d,(1+c.b[10])/c.b[14]);new X6b;b=T6b(a.o,2/S6b(a.o,d));Nzb(c.b,2,b.d);Nzb(c.b,6,b.e);Nzb(c.b,10,b.c+1);Nzb(c.b,14,b.b);g=new j6b;f6b(g,a.k.Y);a.c=g;XMb(Fu(YRb(tZb(a.q).j,CSc),225),a.c)}
var FSc='alpha',KSc='distortionScale',CSc='eye',DSc='mirrorSampler',GSc='normalSampler',JSc='sunDirection',ESc='textureMatrix',ISc='waterColor';nU(901,896,{249:1,259:1,260:1},MYb,NYb);_.Yd=function OYb(){var a;return a=new MYb,uPb(this,a,true),f3b(a.M,this.M),f3b(a.b,this.b),a.c=this.c,a};_.ne=function PYb(a,b){var c,d,e,f,g,i,j,k;i=a.d.d;e=a.d.b;g=a.d.c;k=this.M;d=this.b;j=this.c;f=i.length*3;if(b){$Xb(i,f,k,j);$Xb(e,f,d,j)}else{_Xb(i,f,k,j);_Xb(e,f,d,j)}c=new j6b;f6b(c,this.Y);c.tf();Nzb(g,f,c.d);Nzb(g,f+1,c.e);Nzb(g,f+2,c.c)};_.c=0;nU(938,937,{296:1,297:1,299:1});_.sf=function E6b(){this.d=-this.d;this.e=-this.e;this.c=-this.c;return this};nU(939,938,{296:1,297:1,299:1,301:1},X6b);_.sf=function j7b(){return this.d=-this.d,this.e=-this.e,this.c=-this.c,this.b=-this.b,this};nU(1186,1,_Lc);_.Db=function Joc(){q9b(this.c,new Loc(this.b))};nU(1187,968,YLc,Loc);_.Jd=function Moc(a){};_.ob=function Noc(){var a,b,c,d,e,f,g,i,j,k,n;ut((Qxb(),Pxb),($xb(),Zxb),this);this.b=new wQb(55,MGb(this.H.n),0.5,3000000);e6b(this.b.ab,2000,750,2000);this.c=new qwb(this.b,this.H.d);this.c.r=500;this.c.f=0.1;d=new NYb(16777147,526368,1);e6b(d.ab,-1,1,-1);tPb(this.I,d);this.f=new pwc(this.H.n,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.ab.nf().tf();this.f.f=new p3b(16777215);this.f.i=new p3b(7695);n=new ZNb('./static/textures/waternormals.jpg',new Qoc(this));SNb(n,(PFb(),OFb));TNb(n,OFb);g=new I7b(new KWb(1000000,1000000),this.f.q);tPb(g,this.f);C3b(g.db,-1.5707963267948966);tPb(this.I,g);k=new fOb(gSc);e=new A_b;u_b(e,new p3b(16777215));e.e=k;i=new B2b(new jJb);XMb(Fu(YRb(tZb(i).j,dSc),225),k);i.T=false;EZb(i,(q_b(),n_b));f=new I7b(new eWb(1000000,1000000,1000000),i);tPb(this.I,f);a=new xWb(400,4);for(b=0,c=a.j.Tc();b<c;b++){m3b(Fu(a.j.Lc(b),241).g,Nu(1118481+Xkb(blb()*15658735)))}j=new x1b;v1b(j,(l$b(),i$b));j.j=k;j.G=100;this.e=new I7b(a,j)};_.pb=function Ooc(a){var b;b=Bh()*0.001;u5b(this.e.ab,dlb(b)*500+250);D3b(this.e.db,b*0.5);E3b(this.e.db,b*0.51);XMb(Fu(YRb(tZb(this.f.q).j,rSc),225),new Wjb(Fu(Fu(YRb(tZb(this.f.q).j,rSc),225).e,150).b+0.016666666666666666));evc(this.f);pwb(this.c,(Bh()-this.d)*0.001);this.d=Bh();YGb(this.H.n,this.I,this.b,null,false);lPb(vu(hS,uKc,0,[this.b.ab,this.b.db,this.b.W]))};_.d=0;nU(1188,1,{},Qoc);_.Xd=function Roc(a){this.b.f.e=a;owc(this.b.f)};nU(1287,809,QLc);_.r=false;nU(1306,1287,QLc,pwc);_.b=0;_.d=0;_.j=0;nU(1307,726,OLc,rwc);_.Od=function swc(){xIb(this,GSc,new ZMb((qNb(),iNb),null));xIb(this,DSc,new ZMb(iNb,null));xIb(this,FSc,new ZMb(cNb,new Wjb(1)));xIb(this,rSc,new ZMb(cNb,new Wjb(0)));xIb(this,KSc,new ZMb(cNb,new Wjb(20)));xIb(this,ESc,new ZMb(gNb,new t4b));xIb(this,HSc,new ZMb(bNb,new p3b(8355711)));xIb(this,JSc,new ZMb(mNb,new k6b(0.70707,0.70707,0)));xIb(this,CSc,new ZMb(mNb,new k6b(0,0,0)));xIb(this,ISc,new ZMb(bNb,new p3b(5592405)))};var twc;nU(1308,1,{},ywc);_.Rd=function zwc(){return Hwc(),wwc};_.Sd=function Awc(){return Iwc(),xwc};var wwc,xwc;nU(1309,1,{},Cwc);_.qc=function Dwc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};nU(1310,1,{},Fwc);_.qc=function Gwc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var GN=Kjb(YQc,'ShaderOcean$DemoScene',1187),FN=Kjb(YQc,'ShaderOcean$DemoScene$1',1188),aP=Kjb(RQc,'Mirror',1287),rP=Kjb(RQc,'Water',1306),JI=Kjb(LSc,'HemisphereLight',901),qP=Kjb(RQc,'WaterShader',1307),pP=Kjb(RQc,'WaterShader_Resources_default_InlineClientBundleGenerator',1308),nP=Kjb(RQc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1309),oP=Kjb(RQc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1310);nMc(Hi)(32);