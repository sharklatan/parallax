function EAc(){}
function IAc(){}
function LAc(){}
function LQb(a,b){a.$=b}
function a8b(a,b){a.b=b}
function OQb(a,b){a.gb=b}
function Dqc(a){this.b=a}
function yqc(){Wac.call(this)}
function TZb(){UZb.call(this,0,0,1)}
function c8b(){d8b.call(this,0,0,0,1)}
function xAc(){UJb.call(this,(AAc(),zAc))}
function AAc(){AAc=PQc;zAc=new EAc}
function NAc(){NAc=PQc;CAc=new IAc}
function OAc(){OAc=PQc;DAc=new LAc}
function W4b(a){return a<0?-1:a>0?1:0}
function Z7b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function dOb(a){var b;b=new iOb(a.d,a.e);b.b=a.b;return b}
function J5b(a,b,c){a.c.mf(b);a.b=-e7b(c,a.c);return a}
function E5b(a,b){var c;c=new c5b;return F5b(a,b,(b5b($4b(c,b)),c))}
function j7b(a,b){var c;c=new q7b;return a.tf(c.mf(b).pf(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function UZb(a,b,c){DQb();hZb.call(this,a);this.b=new w4b(b);this.ab=new r7b(0,100,0);this.c=c}
function kzc(a){var b;a.r&&tAc(a);a.r=true;b=a;while(b._){b=b._}!!b&&Hu(b,310)&&hIb(a.w,Eu(b,310),a.s,a.C,true)}
function U9b(a){var b,c,d;b=new Ytb;for(d=RTb((new ETb(a)).b.b).cc();d.Ec();){c=Eu(d.Fc(),1);upb(b,c,dOb(Eu(a.b[HTc+c],227)))}return b}
function F5b(a,b,c){var d,e,f,g;f=new q7b;g=new q7b;e=Z6b(f.mf(a.c),c);d=g.mf(a.c).pf(-a.b);$6b(d,b);a.c.mf(e);a.b=-e7b(d,a.c);return a}
function l5b(a,b){var c,d,e,f,g;c=b.b;g=new q7b;d=1/l7b(g,c[0],c[1],c[2])._e();e=1/l7b(g,c[4],c[5],c[6])._e();f=1/l7b(g,c[8],c[9],c[10])._e();a.b[0]=c[0]*d;a.b[1]=c[1]*d;a.b[2]=c[2]*d;a.b[4]=c[4]*e;a.b[5]=c[5]*e;a.b[6]=c[6]*e;a.b[8]=c[8]*f;a.b[9]=c[9]*f;a.b[10]=c[10]*f;return a}
function uAc(a){gOb(Eu(dTb(A$b(a.q).j,XYc),227),a.C);gOb(Eu(dTb(A$b(a.q).j,YYc),227),a.D);gOb(Eu(dTb(A$b(a.q).j,ZYc),227),new Bkb(a.b));gOb(Eu(dTb(A$b(a.q).j,SYc),227),new Bkb(0));gOb(Eu(dTb(A$b(a.q).j,$Yc),227),a.e);gOb(Eu(dTb(A$b(a.q).j,_Yc),227),a.f);gOb(Eu(dTb(A$b(a.q).j,aZc),227),a.i);gOb(Eu(dTb(A$b(a.q).j,bZc),227),a.g);gOb(Eu(dTb(A$b(a.q).j,cZc),227),new Bkb(20));gOb(Eu(dTb(A$b(a.q).j,WYc),227),a.c);wQb(uu(OS,VQc,0,[A$b(a.q).j]));if(!V4b(a.j)||!V4b(a.d)){SOb(a.C,false);SOb(a.B,false)}tAc(a);kzc(a)}
function vAc(a,b){DQb();var c;WQb.call(this);new w4b(8355711);this.t=new K5b;this.v=new r7b(0,0,1);this.u=new q7b;this.n=new q7b;this.A=new A5b;this.p=new r7b(0,0,-1);this.o=new c8b;this.D=new A5b;LQb(this,'mirror_ '+this.S);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new r7b(0.70707,0.70707,0);this.f=new w4b(16777215);this.i=new w4b(8355711);this.c=new r7b(0,0,0);LQb(this,'water_'+this.S);this.w=a;if(b){this.k=b}else{this.k=new ERb;yQb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.D=new A5b;this.s=yRb(this.k);this.C=new EPb(this.j,this.d);this.B=new EPb(this.j,this.d);c=new xAc;U9b(c.j);this.q=new I3b(c);M$b(this.q,true)}
function tAc(a){var b,c,d,e,f,g;VQb(a,false);VQb(a.k,false);m7b(a.u,a.Y);m7b(a.n,a.k.Y);l5b(a.A,a.Y);l7b(a.v,0,0,1);$6b(a.v,a.A);f=a.u.lf().tf(a.n);j7b(f,a.v).qf();f.kf(a.u);l5b(a.A,a.k.Y);l7b(a.p,0,0,-1);$6b(a.p,a.A);a.p.kf(a.n);e=a.u.lf().tf(a.p);j7b(e,a.v).qf();e.kf(a.u);l7b(a.gb,0,-1,0);$6b(a.gb,a.A);j7b(a.gb,a.v).qf();a.s.ab.mf(f);OQb(a.s,a.gb);bRb(a.s,e);zRb(a.s,a.k.b);DRb(a.s);VQb(a.s,false);n5b(a.s.p,a.s.Y);z5b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);x5b(a.D,a.s.q);x5b(a.D,a.s.p);J5b(a.t,a.v,a.u);E5b(a.t,a.s.p);_7b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new c8b;c=a.s.q;A6b(d,(W4b(a.o.d)+c.b[8])/c.b[0]);B6b(d,(W4b(a.o.e)+c.b[9])/c.b[5]);d.c=-1;a8b(d,(1+c.b[10])/c.b[14]);new c8b;b=$7b(a.o,2/Z7b(a.o,d));xAb(c.b,2,b.d);xAb(c.b,6,b.e);xAb(c.b,10,b.c+1);xAb(c.b,14,b.b);g=new q7b;m7b(g,a.k.Y);a.c=g;gOb(Eu(dTb(A$b(a.q).j,WYc),227),a.c)}
var ZYc='alpha',cZc='distortionScale',WYc='eye',XYc='mirrorSampler',$Yc='normalSampler',bZc='sunDirection',YYc='textureMatrix',aZc='waterColor';WU(902,897,{250:1,260:1,261:1},TZb,UZb);_.Yd=function VZb(){var a;return a=new TZb,FQb(this,a,true),m4b(a.M,this.M),m4b(a.b,this.b),a.c=this.c,a};_.le=function WZb(a,b){var c,d,e,f,g,i,j,k;i=a.d.d;e=a.d.b;g=a.d.c;k=this.M;d=this.b;j=this.c;f=i.length*3;if(b){fZb(i,f,k,j);fZb(e,f,d,j)}else{gZb(i,f,k,j);gZb(e,f,d,j)}c=new q7b;m7b(c,this.Y);c.rf();xAb(g,f,c.d);xAb(g,f+1,c.e);xAb(g,f+2,c.c)};_.c=0;WU(939,938,{297:1,298:1,300:1});_.qf=function L7b(){this.d=-this.d;this.e=-this.e;this.c=-this.c;return this};WU(940,939,{297:1,298:1,300:1,302:1},c8b);_.qf=function q8b(){return this.d=-this.d,this.e=-this.e,this.c=-this.c,this.b=-this.b,this};WU(1186,1,ASc);_.Db=function wqc(){wac(this.c,new yqc(this.b))};WU(1187,969,xSc,yqc);_.Jd=function zqc(a){};_.ob=function Aqc(){var a,b,c,d,e,f,g,i,j,k,n;tt((uyb(),tyb),(Eyb(),Dyb),this);this.b=new FRb(55,XHb(this.H.n),0.5,3000000);l7b(this.b.ab,2000,750,2000);this.c=new Wwb(this.b,this.H.d);this.c.r=500;this.c.f=0.1;d=new UZb(16777147,526368,1);l7b(d.ab,-1,1,-1);EQb(this.I,d);this.f=new vAc(this.H.n,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.ab.lf().rf();this.f.f=new w4b(16777215);this.f.i=new w4b(7695);n=new iPb('./static/textures/waternormals.jpg',new Dqc(this));bPb(n,(ZGb(),YGb));cPb(n,YGb);g=new P8b(new RXb(1000000,1000000),this.f.q);EQb(g,this.f);J4b(g.db,-1.5707963267948966);EQb(this.I,g);k=new qPb(HYc);e=new H0b;B0b(e,new w4b(16777215));e.e=k;i=new I3b(new uKb);gOb(Eu(dTb(A$b(i).j,EYc),227),k);i.T=false;L$b(i,(x0b(),u0b));f=new P8b(new lXb(1000000,1000000,1000000),i);EQb(this.I,f);a=new EXb(400,4);for(b=0,c=a.j.Tc();b<c;b++){t4b(Eu(a.j.Lc(b),242).g,Mu(1118481+Clb(Ilb()*15658735)))}j=new E2b;C2b(j,(s_b(),p_b));j.j=k;j.G=100;this.e=new P8b(a,j)};_.pb=function Bqc(a){var b;b=Bh()*0.001;B6b(this.e.ab,Klb(b)*500+250);K4b(this.e.db,b*0.5);L4b(this.e.db,b*0.51);gOb(Eu(dTb(A$b(this.f.q).j,SYc),227),new Bkb(Eu(Eu(dTb(A$b(this.f.q).j,SYc),227).e,150).b+0.016666666666666666));kzc(this.f);Vwb(this.c,(Bh()-this.d)*0.001);this.d=Bh();hIb(this.H.n,this.I,this.b,null,false);wQb(uu(OS,VQc,0,[this.b.ab,this.b.db,this.b.W]))};_.d=0;WU(1188,1,{},Dqc);_.Xd=function Eqc(a){this.b.f.e=a;uAc(this.b.f)};WU(1340,810,pSc);_.r=false;WU(1359,1340,pSc,vAc);_.b=0;_.d=0;_.j=0;WU(1360,727,nSc,xAc);_.Od=function yAc(){IJb(this,$Yc,new iOb((BOb(),tOb),null));IJb(this,XYc,new iOb(tOb,null));IJb(this,ZYc,new iOb(nOb,new Bkb(1)));IJb(this,SYc,new iOb(nOb,new Bkb(0)));IJb(this,cZc,new iOb(nOb,new Bkb(20)));IJb(this,YYc,new iOb(rOb,new A5b));IJb(this,_Yc,new iOb(mOb,new w4b(8355711)));IJb(this,bZc,new iOb(xOb,new r7b(0.70707,0.70707,0)));IJb(this,WYc,new iOb(xOb,new r7b(0,0,0)));IJb(this,aZc,new iOb(mOb,new w4b(5592405)))};var zAc;WU(1361,1,{},EAc);_.Rd=function FAc(){return NAc(),CAc};_.Sd=function GAc(){return OAc(),DAc};var CAc,DAc;WU(1362,1,{},IAc);_.qc=function JAc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};WU(1363,1,{},LAc);_.qc=function MAc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var HN=pkb(wXc,'ShaderOcean$DemoScene',1187),GN=pkb(wXc,'ShaderOcean$DemoScene$1',1188),fP=pkb(pXc,'Mirror',1340),wP=pkb(pXc,'Water',1359),KI=pkb(dZc,'HemisphereLight',902),vP=pkb(pXc,'WaterShader',1360),uP=pkb(pXc,'WaterShader_Resources_default_InlineClientBundleGenerator',1361),sP=pkb(pXc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1362),tP=pkb(pXc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1363);OSc(Hi)(32);