function gzc(){}
function kzc(){}
function nzc(){}
function QPb(a,b){a.$=b}
function DYb(a,b){a.L=b}
function a7b(a,b){a.b=b}
function SPb(a,b){a.gb=b}
function zpc(a){this.b=a}
function upc(){V9b.call(this)}
function TYb(){UYb.call(this,0,0,1)}
function bZb(){cZb.call(this,0,1,0)}
function c7b(){d7b.call(this,0,0,0,1)}
function p8b(){q8b.call(this,0,1,1000)}
function u8b(){v8b.call(this,0,2.5E-4)}
function _yc(){ZIb.call(this,(czc(),bzc))}
function czc(){czc=YMc;bzc=new gzc}
function pzc(){pzc=YMc;ezc=new kzc}
function qzc(){qzc=YMc;fzc=new nzc}
function W3b(a){return a<0?-1:a>0?1:0}
function QXb(a,b){KPb(a,b,true);return b}
function J7b(a,b){KPb(a,b,false);return b}
function c8b(a,b){KPb(a,b,true);b.b=a.b;return b}
function iNb(a){var b;b=new nNb(a.d,a.e);b.b=a.b;return b}
function eQb(a,b){KPb(a,b,true);j4b(b.p,a.p);j4b(b.q,a.q);return b}
function J4b(a,b,c){a.c.pf(b);a.b=-e6b(c,a.c);return a}
function Z6b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function j6b(a,b){var c;c=new q6b;return a.wf(c.pf(b).sf(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function E4b(a,b){var c;c=new c4b;return F4b(a,b,(b4b($3b(c,b)),c))}
function UYb(a,b,c){IPb();hYb.call(this,a);this.b=new w3b(b);this.ab=new r6b(0,100,0);this.c=c}
function V7b(a,b){KPb(a,b,true);b.e=a.e;b.j=a.j;b.n=a.n;b.g=a.g;b.b=a.b;b.c=a.c;b.d=a.d;return b}
function z8b(a,b){KPb(a,b,true);!!a.c&&(b.c=a.c.yf());!!a.d&&(b.d=a.d.Te());b.b=a.b;b.X=a.X;return b}
function CQb(a){var b;b=new IQb;eQb(a,b);b.o=a.o;b.d=a.d;b.b=a.b;b.i=a.i;b.c=a.c;j4b(b.q,a.q);return b}
function Oxc(a){var b;a.r&&Xyc(a);a.r=true;b=a;while(b._){b=b._}!!b&&$u(b,308)&&mHb(a.w,Xu(b,308),a.s,a.C,true)}
function T8b(a){var b,c,d;b=new Itb;for(d=TSb((new GSb(a)).b.b).fc();d.Hc();){c=Xu(d.Ic(),1);epb(b,c,iNb(Xu(a.b[QPc+c],225)))}return b}
function F4b(a,b,c){var d,e,f,g;f=new q6b;g=new q6b;e=Z5b(f.pf(a.c),c);d=g.pf(a.c).sf(-a.b);$5b(d,b);a.c.pf(e);a.b=-e6b(d,a.c);return a}
function r0b(a){var b;b=new A0b;wZb(a,b);m3b(b.d,a.d);m3b(b.c,a.c);m3b(b.f,a.f);b.p=a.p;b.D.pf(a.D);b.r=a.r;b.q=a.q;b.A=a.A;b.b=a.b;b.g=a.g;b.e=a.e;b.u=a.u;b.v=a.v;b.i=a.i;b.w=a.w;b.o=a.o;b.C=a.C;b.B=a.B;b.n=a.n;b.k=a.k;b.j=a.j;return b}
function FYb(a){var b;b=new KYb(0);KPb(a,b,true);m3b(b.M,a.M);DYb(b,a.L._d());sYb(b,a.t);OPb(b,a.T);b.u=a.u;b.B=a.B;b.A=a.A;b.f=a.f;b.g=a.g;b.i=a.i;b.e=a.e;b.C=a.C;b.v=a.v;b.F=a.F;b.J=a.J;b.H=a.H;b.D=a.D;b.q.pf(a.q);b.k=a.k;b.j=a.j;b.r=a.r;b.o=a.o;b.p=a.p;b.n=a.n;return b}
function KPb(a,b,c){var d,e;b.$=a.$;b.gb.pf(a.gb);b.ab.pf(a.ab);N4b(b.bb,a.bb);b.fb.pf(a.fb);b.cb=a.cb;b.eb=a.eb;j4b(b.W,a.W);j4b(b.Y,a.Y);b.X=a.X;b.Z=a.Z;b.hb=a.hb;b.T=a.T;b.V=a.V;b.U=a.U;if(c){for(e=0;e<a.R.c;e++){d=Xu(Tqb(a.R,e),248);JPb(b,d._d())}}return b}
function l4b(a,b){var c,d,e,f,g;c=b.b;g=new q6b;d=1/l6b(g,c[0],c[1],c[2]).cf();e=1/l6b(g,c[4],c[5],c[6]).cf();f=1/l6b(g,c[8],c[9],c[10]).cf();a.b[0]=c[0]*d;a.b[1]=c[1]*d;a.b[2]=c[2]*d;a.b[4]=c[4]*e;a.b[5]=c[5]*e;a.b[6]=c[6]*e;a.b[8]=c[8]*f;a.b[9]=c[9]*f;a.b[10]=c[10]*f;return a}
function q1b(a){var b;b=new E1b;wZb(a,b);m3b(b.f,a.f);m3b(b.c,a.c);m3b(b.i,a.i);m3b(b.H,a.H);b.G=a.G;b.n=a.n;b.s=a.s;b.L.pf(a.L);b.u=a.u;b.t=a.t;b.d=a.d;b.e=a.e;b.v=a.v;x5b(b.w,a.w);b.I=a.I;b.b=a.b;b.j=a.j;b.g=a.g;b.C=a.C;b.D=a.D;b.k=a.k;b.F=a.F;b.r=a.r;b.K=a.K;b.J=a.J;b.q=a.q;b.p=a.p;b.o=a.o;return b}
function Yyc(a){lNb(Xu(fSb(AZb(a.q).j,pVc),225),a.C);lNb(Xu(fSb(AZb(a.q).j,qVc),225),a.D);lNb(Xu(fSb(AZb(a.q).j,rVc),225),new kkb(a.b));lNb(Xu(fSb(AZb(a.q).j,dVc),225),new kkb(0));lNb(Xu(fSb(AZb(a.q).j,sVc),225),a.e);lNb(Xu(fSb(AZb(a.q).j,tVc),225),a.f);lNb(Xu(fSb(AZb(a.q).j,uVc),225),a.i);lNb(Xu(fSb(AZb(a.q).j,vVc),225),a.g);lNb(Xu(fSb(AZb(a.q).j,wVc),225),new kkb(20));lNb(Xu(fSb(AZb(a.q).j,oVc),225),a.c);BPb(Nu(DS,cNc,0,[AZb(a.q).j]));if(!V3b(a.j)||!V3b(a.d)){XNb(a.C,false);XNb(a.B,false)}Xyc(a);Oxc(a)}
function Zyc(a,b){IPb();var c;$Pb.call(this);new w3b(8355711);this.t=new K4b;this.v=new r6b(0,0,1);this.u=new q6b;this.n=new q6b;this.A=new A4b;this.p=new r6b(0,0,-1);this.o=new c7b;this.D=new A4b;QPb(this,'mirror_ '+this.S);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new r6b(0.70707,0.70707,0);this.f=new w3b(16777215);this.i=new w3b(8355711);this.c=new r6b(0,0,0);QPb(this,'water_'+this.S);this.w=a;if(b){this.k=b}else{this.k=new IQb;DPb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.D=new A4b;this.s=CQb(this.k);this.C=new JOb(this.j,this.d);this.B=new JOb(this.j,this.d);c=new _yc;T8b(c.j);this.q=new I2b(c);MZb(this.q,true)}
function Xyc(a){var b,c,d,e,f,g;ZPb(a,false);ZPb(a.k,false);m6b(a.u,a.Y);m6b(a.n,a.k.Y);l4b(a.A,a.Y);l6b(a.v,0,0,1);$5b(a.v,a.A);f=a.u.of().wf(a.n);j6b(f,a.v).tf();f.nf(a.u);l4b(a.A,a.k.Y);l6b(a.p,0,0,-1);$5b(a.p,a.A);a.p.nf(a.n);e=a.u.of().wf(a.p);j6b(e,a.v).tf();e.nf(a.u);l6b(a.gb,0,-1,0);$5b(a.gb,a.A);j6b(a.gb,a.v).tf();a.s.ab.pf(f);SPb(a.s,a.gb);fQb(a.s,e);DQb(a.s,a.k.b);HQb(a.s);ZPb(a.s,false);n4b(a.s.p,a.s.Y);z4b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);x4b(a.D,a.s.q);x4b(a.D,a.s.p);J4b(a.t,a.v,a.u);E4b(a.t,a.s.p);_6b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new c7b;c=a.s.q;A5b(d,(W3b(a.o.d)+c.b[8])/c.b[0]);B5b(d,(W3b(a.o.e)+c.b[9])/c.b[5]);d.c=-1;a7b(d,(1+c.b[10])/c.b[14]);new c7b;b=$6b(a.o,2/Z6b(a.o,d));bAb(c.b,2,b.d);bAb(c.b,6,b.e);bAb(c.b,10,b.c+1);bAb(c.b,14,b.b);g=new q6b;m6b(g,a.k.Y);a.c=g;lNb(Xu(fSb(AZb(a.q).j,oVc),225),a.c)}
var rVc='alpha',wVc='distortionScale',oVc='eye',pVc='mirrorSampler',sVc='normalSampler',vVc='sunDirection',qVc='textureMatrix',uVc='waterColor';JU(814,1,xOc);_._d=function _Pb(){return KPb(this,new $Pb,true)};JU(813,814,{78:1,186:1,248:1});_.ce=function hQb(){return eQb(this,new gQb)};_._d=function iQb(){return this.ce()};JU(816,813,{78:1,186:1,235:1,248:1});_.ce=function yQb(){var a;return a=new wQb(10,10,10,10),eQb(this,a),a.i=this.i,a.d=this.d,a.f=this.f,a.g=this.g,a.b=this.b,a.e=this.e,a.c=this.c,j4b(a.q,this.q),a};JU(817,813,{78:1,186:1,236:1,248:1});_.ce=function KQb(){return CQb(this)};JU(899,838,DOc);_._d=function YXb(){return QXb(this,new XXb(Xu(this.u,241),Xu(this.v,280),this.f))};JU(900,901,EOc);_._d=function jYb(){var a;return a=new iYb(0),KPb(this,a,true),m3b(a.M,this.M),a};JU(903,904,{248:1,257:1,259:1,261:1});_._d=function MYb(){return FYb(this)};JU(906,901,{248:1,258:1,259:1},TYb,UYb);_._d=function VYb(){var a;return a=new TYb,KPb(this,a,true),m3b(a.M,this.M),m3b(a.b,this.b),a.c=this.c,a};_.oe=function WYb(a,b){var c,d,e,f,g,i,j,k;i=a.d.d;e=a.d.b;g=a.d.c;k=this.M;d=this.b;j=this.c;f=i.length*3;if(b){fYb(i,f,k,j);fYb(e,f,d,j)}else{gYb(i,f,k,j);gYb(e,f,d,j)}c=new q6b;m6b(c,this.Y);c.uf();bAb(g,f,c.d);bAb(g,f+1,c.e);bAb(g,f+2,c.c)};_.c=0;JU(908,901,{248:1,259:1,260:1},bZb);_._d=function dZb(){var a;return a=new bZb,KPb(this,a,true),m3b(a.M,this.M),a.c=this.c,a.b=this.b,a};JU(913,914,{267:1,269:1,277:1,280:1,281:1});_.Te=function VZb(){var a;return a=new UZb,wZb(this,a),m3b(a.b,this.b),a.d=this.d,a.e=this.e,a.c=this.c,a};JU(920,914,{264:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,281:1,287:1});_.Te=function I_b(){var a;return a=new H_b,wZb(this,a),m3b(a.c,this.c),a.n=this.n,a.k=this.k,a.t=this.t,a.b=this.b,a.e=this.e,a.d=this.d,a.q=this.q,a.r=this.r,a.f=this.f,a.s=this.s,a.j=this.j,a.v=this.v,a.u=this.u,a.i=this.i,a.g=this.g,a};JU(922,914,{264:1,265:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,288:1});_.Te=function B0b(){return r0b(this)};JU(923,914,{274:1,278:1,281:1});_.Te=function j1b(){var a;return a=new i1b,wZb(this,a),a.c=this.c,a.b=this.b,a.d=this.d,a};JU(924,914,{264:1,265:1,266:1,267:1,268:1,269:1,270:1,271:1,272:1,273:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,289:1});_.Te=function F1b(){return q1b(this)};JU(925,914,{267:1,269:1,271:1,277:1,281:1,290:1});_.Te=function o2b(){var a;return a=new n2b,wZb(this,a),m3b(a.b,this.b),a.d=this.d,a.e=this.e,a.f=this.f,a.g=this.g,a.c=this.c,a};JU(927,914,{267:1,269:1,274:1,275:1,277:1,278:1,281:1,291:1});_.Te=function J2b(){var a;return a=new F2b,wZb(this,a),a.n=this.n,a.o=this.o,a.i=this.i,a.q=this.q,a.c=this.c,a.d=this.d,a.p=this.p,a.g=this.g,a.f=this.f,a.e=this.g,a};JU(943,942,{295:1,296:1,298:1});_.tf=function L6b(){this.d=-this.d;this.e=-this.e;this.c=-this.c;return this};JU(944,943,{295:1,296:1,298:1,300:1},c7b);_.tf=function q7b(){return this.d=-this.d,this.e=-this.e,this.c=-this.c,this.b=-this.b,this};JU(947,838,{247:1,248:1,303:1});_._d=function Q7b(){return this.xf()};_.xf=function R7b(){return J7b(this,new P7b(this.u,this.v))};JU(948,947,{247:1,248:1,303:1,304:1});_.xf=function $7b(){return V7b(this,new Z7b(Xu(this.u,241),this.v))};JU(949,838,{247:1,248:1,305:1});_._d=function i8b(){return c8b(this,new h8b(Xu(this.u,241),Xu(this.v,290)))};JU(951,950,{306:1},p8b);_.yf=function r8b(){var a;return a=new p8b,a.e=this.e,a.d=l3b(this.d),a.c=this.c,a.b=this.b,a};JU(952,950,{307:1},u8b);_.yf=function w8b(){var a;return a=new u8b,a.e=this.e,a.d=l3b(this.d),a.b=this.b,a};JU(953,814,{248:1,308:1});_._d=function C8b(){return z8b(this,new B8b)};JU(1189,1,IOc);_.Db=function spc(){v9b(this.c,new upc(this.b))};JU(1190,973,FOc,upc);_.Md=function vpc(a){};_.ob=function wpc(){var a,b,c,d,e,f,g,i,j,k,n;Mt((eyb(),dyb),(oyb(),nyb),this);this.b=new JQb(55,aHb(this.H.n),0.5,3000000);l6b(this.b.ab,2000,750,2000);this.c=new Gwb(this.b,this.H.d);this.c.r=500;this.c.f=0.1;d=new UYb(16777147,526368,1);l6b(d.ab,-1,1,-1);JPb(this.I,d);this.f=new Zyc(this.H.n,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.ab.of().uf();this.f.f=new w3b(16777215);this.f.i=new w3b(7695);n=new nOb('./static/textures/waternormals.jpg',new zpc(this));gOb(n,(dGb(),cGb));hOb(n,cGb);g=new P7b(new RWb(1000000,1000000),this.f.q);JPb(g,this.f);J3b(g.db,-1.5707963267948966);JPb(this.I,g);k=new vOb(TUc);e=new H_b;B_b(e,new w3b(16777215));e.e=k;i=new I2b(new zJb);lNb(Xu(fSb(AZb(i).j,QUc),225),k);i.T=false;LZb(i,(x_b(),u_b));f=new P7b(new lWb(1000000,1000000,1000000),i);JPb(this.I,f);a=new EWb(400,4);for(b=0,c=a.j.Wc();b<c;b++){t3b(Xu(a.j.Oc(b),240).g,dv(1118481+llb(rlb()*15658735)))}j=new E1b;C1b(j,(s$b(),p$b));j.j=k;j.G=100;this.e=new P7b(a,j)};_.pb=function xpc(a){var b;b=Ch()*0.001;B5b(this.e.ab,tlb(b)*500+250);K3b(this.e.db,b*0.5);L3b(this.e.db,b*0.51);lNb(Xu(fSb(AZb(this.f.q).j,dVc),225),new kkb(Xu(Xu(fSb(AZb(this.f.q).j,dVc),225).e,150).b+0.016666666666666666));Oxc(this.f);Fwb(this.c,(Ch()-this.d)*0.001);this.d=Ch();mHb(this.H.n,this.I,this.b,null,false);BPb(Nu(DS,cNc,0,[this.b.ab,this.b.db,this.b.W]))};_.d=0;JU(1191,1,{},zpc);_.$d=function Apc(a){this.b.f.e=a;Yyc(this.b.f)};JU(1338,814,xOc);_.r=false;JU(1357,1338,xOc,Zyc);_.b=0;_.d=0;_.j=0;JU(1358,731,vOc,_yc);_.Rd=function azc(){NIb(this,sVc,new nNb((GNb(),yNb),null));NIb(this,pVc,new nNb(yNb,null));NIb(this,rVc,new nNb(sNb,new kkb(1)));NIb(this,dVc,new nNb(sNb,new kkb(0)));NIb(this,wVc,new nNb(sNb,new kkb(20)));NIb(this,qVc,new nNb(wNb,new A4b));NIb(this,tVc,new nNb(rNb,new w3b(8355711)));NIb(this,vVc,new nNb(CNb,new r6b(0.70707,0.70707,0)));NIb(this,oVc,new nNb(CNb,new r6b(0,0,0)));NIb(this,uVc,new nNb(rNb,new w3b(5592405)))};var bzc;JU(1359,1,{},gzc);_.Ud=function hzc(){return pzc(),ezc};_.Vd=function izc(){return qzc(),fzc};var ezc,fzc;JU(1360,1,{},kzc);_.tc=function lzc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};JU(1361,1,{},nzc);_.tc=function ozc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var aO=$jb(ITc,'ShaderOcean$DemoScene',1190),_N=$jb(ITc,'ShaderOcean$DemoScene$1',1191),wP=$jb(BTc,'Mirror',1338),NP=$jb(BTc,'Water',1357),fJ=$jb(xVc,'HemisphereLight',906),MP=$jb(BTc,'WaterShader',1358),LP=$jb(BTc,'WaterShader_Resources_default_InlineClientBundleGenerator',1359),JP=$jb(BTc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1360),KP=$jb(BTc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1361);WOc(Ii)(32);