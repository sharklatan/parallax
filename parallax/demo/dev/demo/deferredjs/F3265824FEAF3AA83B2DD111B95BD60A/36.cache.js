function orc(){}
function trc(){}
function wrc(){}
function bLb(a,b){a.$=b}
function YLb(a,b){a.g=b}
function dLb(a,b){a.gb=b}
function Sjc(a){this.a=a}
function Njc(){y4b.call(this)}
function hrc(){vEb.call(this,(krc(),jrc))}
function $Lb(){_Lb.call(this,50,1,0.1,2000)}
function crc(a){return a!=0?a<0?-1:1:0}
function H_b(a,b){return b.sf(a.b).uf(-a.a)}
function F_b(a,b){return G_b(a,b,P$b(N$b(new Q$b,b)))}
function T1b(a,b){return a.c*b.c+a.d*b.d+a.b*b.b+a.a*b.a}
function zIb(a){var b;b=new EIb(a.c,a.d);b.a=a.a;return b}
function i1b(a,b){a.c=b.a[12];a.d=b.a[13];a.b=b.a[14];return a}
function yrc(){yrc=TCc;mrc=new trc}
function krc(){krc=TCc;jrc=new orc}
function zrc(){zrc=TCc;nrc=new wrc}
function ALb(a,b){!b&&(b=new CLb);YKb(a,b);$$b(b.p,a.p);$$b(b.q,a.q);return b}
function ULb(a){var b;b=new $Lb;ALb(a,b);XLb(b,a.c);VLb(b,a.a);YLb(b,a.g);WLb(b,a.b);$$b(b.q,a.q);return b}
function G_b(a,b,c){var d,e;e=$0b(C_b.sf(a.b),c);d=H_b(a,D_b);_0b(d,b);a.b.sf(e);a.a=-c1b(d,a.b);return a}
function d1b(a,b){var c;c=new l1b;return a.yf(c.sf(b).uf(2*(a.c*b.c+a.d*b.d+a.b*b.b)))}
function Vpc(a){var b;a.q&&drc(a);a.q=true;b=a;while(b._){b=b._}!!b&&su(b,247)&&eDb(a.v,pu(b,247),a.r,a.B,true)}
function T3b(a){var b,c,d;b=new $qb;for(d=yOb((new lOb(a)).a.a).dc();d.Fc();){c=pu(d.Gc(),1);zmb(b,c,zIb(pu(a.a[wFc+c],168)))}return b}
function YKb(a,b){var c,d;b.$=a.$;b.gb.sf(a.gb);b.ab.sf(a.ab);b.db.sf(a.db);b.O=a.O;b.fb.sf(a.fb);b.cb=a.cb;b.eb=a.eb;$$b(b.V,a.V);$$b(b.Y,a.Y);$$b(b.X,a.X);b.W=a.W;b.Z=a.Z;P_b(b.bb,a.bb);b.hb=a.hb;b.jb=a.jb;b.Q=a.Q;b.S=a.S;b.R=a.R;for(d=0;d<a.N.b;d++){c=pu(mob(a.N,d),238);XKb(b,c.Ud())}return b}
function erc(a){CIb(pu(MNb(eVb(a.p).i,LKc),168),a.B);CIb(pu(MNb(eVb(a.p).i,MKc),168),a.C);CIb(pu(MNb(eVb(a.p).i,NKc),168),new Hhb(a.a));CIb(pu(MNb(eVb(a.p).i,zKc),168),new Hhb(0));CIb(pu(MNb(eVb(a.p).i,OKc),168),a.d);CIb(pu(MNb(eVb(a.p).i,PKc),168),a.e);CIb(pu(MNb(eVb(a.p).i,QKc),168),a.g);CIb(pu(MNb(eVb(a.p).i,RKc),168),a.f);CIb(pu(MNb(eVb(a.p).i,SKc),168),new Hhb(20));CIb(pu(MNb(eVb(a.p).i,KKc),168),a.b);QKb(fu(yQ,YCc,0,[eVb(a.p).i]));if(!L$b(a.i)||!L$b(a.c)){a.B.r=false;a.A.r=false}drc(a);Vpc(a)}
function frc(a,b){WKb();var c;lLb.call(this);new B$b(8355711);this.s=new M_b;this.u=new m1b(0,0,1);this.t=new l1b;this.k=new l1b;this.w=new z_b;this.o=new m1b(0,0,-1);this.n=new Y1b;this.C=new z_b;bLb(this,'mirror_ '+this.P);this.i=512;this.c=512;this.a=1;this.d=null;this.f=new m1b(0.70707,0.70707,0);this.e=new B$b(16777215);this.g=new B$b(8355711);this.b=new m1b(0,0,0);bLb(this,'water_'+this.P);this.v=a;if(b){this.j=b}else{this.j=new $Lb;SKb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.C=new z_b;this.r=ULb(this.j);this.B=new $Jb(this.i,this.c);this.A=new $Jb(this.i,this.c);c=new hrc;T3b(c.i);this.p=new RZb(c);qVb(this.p,true)}
function drc(a){var b,c,d,e,f,g;kLb(a,false);kLb(a.j,false);i1b(a.t,a.Y);i1b(a.k,a.j.Y);b_b(a.w,a.Y);f1b(a.u,0,0,1);_0b(a.u,a.w);f=a.t.rf().yf(a.k);d1b(f,a.u).vf();f.qf(a.t);b_b(a.w,a.j.Y);f1b(a.o,0,0,-1);_0b(a.o,a.w);a.o.qf(a.k);e=a.t.rf().yf(a.o);d1b(e,a.u).vf();e.qf(a.t);f1b(a.gb,0,-1,0);_0b(a.gb,a.w);d1b(a.gb,a.u).vf();a.r.ab.sf(f);dLb(a.r,a.gb);BLb(a.r,e);VLb(a.r,a.j.a);ZLb(a.r);kLb(a.r,false);e_b(a.r.p,a.r.Y);v_b(a.C,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);p_b(a.C,a.r.q);p_b(a.C,a.r.p);L_b(a.s,a.u,a.t);F_b(a.s,a.r.p);V1b(a.n,a.s.b.c,a.s.b.d,a.s.b.b,a.s.a);d=new Y1b;c=a.r.q;B0b(d,(crc(a.n.c)+c.a[8])/c.a[0]);C0b(d,(crc(a.n.d)+c.a[9])/c.a[5]);d.b=-1;W1b(d,(1+c.a[10])/c.a[14]);new Y1b;b=U1b(a.n,2/T1b(a.n,d));kxb(c.a,2,b.c);kxb(c.a,6,b.d);kxb(c.a,10,b.b+1);kxb(c.a,14,b.a);g=new l1b;i1b(g,a.j.Y);a.b=g;CIb(pu(MNb(eVb(a.p).i,KKc),168),a.b)}
var NKc='alpha',SKc='distortionScale',KKc='eye',LKc='mirrorSampler',OKc='normalSampler',PKc='sunColor',RKc='sunDirection',MKc='textureMatrix',QKc='waterColor';DS(792,1,hEc);_.Ud=function mLb(){return this.Vd()};_.Vd=function nLb(){return YKb(this,new lLb)};DS(795,791,iEc,$Lb);_.Ud=function aMb(){return ULb(this)};_.Vd=function bMb(){return ULb(this)};DS(917,916,{233:1,234:1,236:1});_.vf=function E1b(){return this.uf(-1)};DS(918,917,{233:1,234:1,236:1,237:1});_.vf=function k2b(){return U1b(this,-1)};DS(1154,1,rEc);_.Cb=function Ljc(){v4b(this.b,new Njc(this.a))};DS(1155,940,oEc,Njc);_.Id=function Ojc(a){};_.qb=function Pjc(){var a,b,c,d,e,f,g,i,j,k,n;ct((svb(),rvb),(Cvb(),Bvb),this);this.a=new _Lb(55,_Cb(this.G.n),0.5,3000000);f1b(this.a.ab,2000,750,2000);this.b=new Ttb(this.a,this.G.b);this.b.q=500;this.b.e=0.1;d=new wUb(16777147,526368,1);f1b(d.ab,-1,1,-1);XKb(this.H,d);this.e=new frc(this.G.n,this.a);this.e.i=512;this.e.c=512;this.e.a=1;this.e.f=d.ab.rf().wf();this.e.e=new B$b(16777215);this.e.g=new B$b(7695);n=new CJb('./static/textures/waternormals.jpg',new Sjc(this));vJb(n,(zCb(),yCb));wJb(n,yCb);g=new H2b(new mSb(1000000,1000000),this.e.p);XKb(g,this.e);B0b(g.db,-1.5707963267948966);XKb(this.H,g);k=new KJb(oKc);e=new lXb;gXb(e,new B$b(16777215));e.c=k;i=new RZb(new XEb);CIb(pu(MNb(eVb(i).i,mKc),168),k);i.Q=false;pVb(i,(cXb(),_Wb));f=new H2b(new MRb(1000000,1000000,1000000),i);XKb(this.H,f);a=new $Rb(400,4);for(b=0,c=a.n.Uc();b<c;b++){y$b(pu(a.n.Mc(b),180).i,xu(1118481+Iib(Oib()*15658735)))}j=new VYb;TYb(j,(ZVb(),WVb));j.C=100;this.d=new H2b(a,j)};_.rb=function Qjc(a){var b;b=nh()*0.001;C0b(this.d.ab,Qib(b)*500+250);C0b(this.d.db,b*0.5);j1b(this.d.db,b*0.51);CIb(pu(MNb(eVb(this.e.p).i,zKc),168),new Hhb(pu(pu(MNb(eVb(this.e.p).i,zKc),168).d,98).a+0.016666666666666666));Vpc(this.e);Stb(this.b,(nh()-this.c)*0.001);this.c=nh();eDb(this.G.n,this.H,this.a,null,false);QKb(fu(yQ,YCc,0,[this.a.ab,this.a.db,this.a.V]))};_.c=0;DS(1156,1,{},Sjc);_.Td=function Tjc(a){this.a.e.d=a;erc(this.a.e)};DS(1267,792,hEc);_.q=false;DS(1286,1267,hEc,frc);_.a=0;_.c=0;_.i=0;DS(1287,709,fEc,hrc);_.Ld=function irc(){jEb(this,OKc,new EIb((XIb(),PIb),null));jEb(this,LKc,new EIb(PIb,null));jEb(this,NKc,new EIb(JIb,new Hhb(1)));jEb(this,zKc,new EIb(JIb,new Hhb(0)));jEb(this,SKc,new EIb(JIb,new Hhb(20)));jEb(this,MKc,new EIb(NIb,new z_b));jEb(this,PKc,new EIb(IIb,new B$b(8355711)));jEb(this,RKc,new EIb(TIb,new m1b(0.70707,0.70707,0)));jEb(this,KKc,new EIb(TIb,new m1b(0,0,0)));jEb(this,QKc,new EIb(IIb,new B$b(5592405)))};var jrc;DS(1288,1,{},orc);_.Od=function prc(){return yrc(),mrc};_.Pd=function qrc(){return zrc(),nrc};var mrc,nrc;DS(1289,1,{},trc);_.fc=function urc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};DS(1290,1,{},wrc);_.fc=function xrc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var PM=vhb(cJc,'ShaderOcean$DemoScene',1155),OM=vhb(cJc,'ShaderOcean$DemoScene$1',1156),PN=vhb(XIc,'Mirror',1267),eO=vhb(XIc,'Water',1286),dO=vhb(XIc,'WaterShader',1287),cO=vhb(XIc,'WaterShader_Resources_default_InlineClientBundleGenerator',1288),aO=vhb(XIc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1289),bO=vhb(XIc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1290);EEc(ti)(36);