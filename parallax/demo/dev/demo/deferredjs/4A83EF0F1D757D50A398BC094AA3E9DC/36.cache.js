function erc(){}
function irc(){}
function lrc(){}
function TKb(a,b){a.$=b}
function OLb(a,b){a.g=b}
function VKb(a,b){a.gb=b}
function Ijc(a){this.a=a}
function Djc(){o4b.call(this)}
function Zqc(){lEb.call(this,(arc(),_qc))}
function QLb(){RLb.call(this,50,1,0.1,2000)}
function Uqc(a){return a!=0?a<0?-1:1:0}
function x_b(a,b){return b.sf(a.b).uf(-a.a)}
function v_b(a,b){return w_b(a,b,F$b(D$b(new G$b,b)))}
function J1b(a,b){return a.c*b.c+a.d*b.d+a.b*b.b+a.a*b.a}
function pIb(a){var b;b=new uIb(a.c,a.d);b.a=a.a;return b}
function $0b(a,b){a.c=b.a[12];a.d=b.a[13];a.b=b.a[14];return a}
function arc(){arc=JCc;_qc=new erc}
function nrc(){nrc=JCc;crc=new irc}
function orc(){orc=JCc;drc=new lrc}
function qLb(a,b){!b&&(b=new sLb);OKb(a,b);Q$b(b.p,a.p);Q$b(b.q,a.q);return b}
function KLb(a){var b;b=new QLb;qLb(a,b);NLb(b,a.c);LLb(b,a.a);OLb(b,a.g);MLb(b,a.b);Q$b(b.q,a.q);return b}
function w_b(a,b,c){var d,e;e=Q0b(s_b.sf(a.b),c);d=x_b(a,t_b);R0b(d,b);a.b.sf(e);a.a=-U0b(d,a.b);return a}
function V0b(a,b){var c;c=new b1b;return a.yf(c.sf(b).uf(2*(a.c*b.c+a.d*b.d+a.b*b.b)))}
function Lpc(a){var b;a.q&&Vqc(a);a.q=true;b=a;while(b._){b=b._}!!b&&qu(b,247)&&WCb(a.v,nu(b,247),a.r,a.B,true)}
function J3b(a){var b,c,d;b=new Qqb;for(d=oOb((new bOb(a)).a.a).dc();d.Fc();){c=nu(d.Gc(),1);pmb(b,c,pIb(nu(a.a[mFc+c],168)))}return b}
function OKb(a,b){var c,d;b.$=a.$;b.gb.sf(a.gb);b.ab.sf(a.ab);b.db.sf(a.db);b.O=a.O;b.fb.sf(a.fb);b.cb=a.cb;b.eb=a.eb;Q$b(b.V,a.V);Q$b(b.Y,a.Y);Q$b(b.X,a.X);b.W=a.W;b.Z=a.Z;F_b(b.bb,a.bb);b.hb=a.hb;b.jb=a.jb;b.Q=a.Q;b.S=a.S;b.R=a.R;for(d=0;d<a.N.b;d++){c=nu(cob(a.N,d),238);NKb(b,c.Ud())}return b}
function Wqc(a){sIb(nu(CNb(WUb(a.p).i,zKc),168),a.B);sIb(nu(CNb(WUb(a.p).i,AKc),168),a.C);sIb(nu(CNb(WUb(a.p).i,BKc),168),new xhb(a.a));sIb(nu(CNb(WUb(a.p).i,nKc),168),new xhb(0));sIb(nu(CNb(WUb(a.p).i,CKc),168),a.d);sIb(nu(CNb(WUb(a.p).i,DKc),168),a.e);sIb(nu(CNb(WUb(a.p).i,EKc),168),a.g);sIb(nu(CNb(WUb(a.p).i,FKc),168),a.f);sIb(nu(CNb(WUb(a.p).i,GKc),168),new xhb(20));sIb(nu(CNb(WUb(a.p).i,yKc),168),a.b);GKb(du(uQ,OCc,0,[WUb(a.p).i]));if(!B$b(a.i)||!B$b(a.c)){a.B.r=false;a.A.r=false}Vqc(a);Lpc(a)}
function Xqc(a,b){MKb();var c;bLb.call(this);new r$b(8355711);this.s=new C_b;this.u=new c1b(0,0,1);this.t=new b1b;this.k=new b1b;this.w=new p_b;this.o=new c1b(0,0,-1);this.n=new O1b;this.C=new p_b;TKb(this,'mirror_ '+this.P);this.i=512;this.c=512;this.a=1;this.d=null;this.f=new c1b(0.70707,0.70707,0);this.e=new r$b(16777215);this.g=new r$b(8355711);this.b=new c1b(0,0,0);TKb(this,'water_'+this.P);this.v=a;if(b){this.j=b}else{this.j=new QLb;IKb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.C=new p_b;this.r=KLb(this.j);this.B=new QJb(this.i,this.c);this.A=new QJb(this.i,this.c);c=new Zqc;J3b(c.i);this.p=new HZb(c);gVb(this.p,true)}
function Vqc(a){var b,c,d,e,f,g;aLb(a,false);aLb(a.j,false);$0b(a.t,a.Y);$0b(a.k,a.j.Y);T$b(a.w,a.Y);X0b(a.u,0,0,1);R0b(a.u,a.w);f=a.t.rf().yf(a.k);V0b(f,a.u).vf();f.qf(a.t);T$b(a.w,a.j.Y);X0b(a.o,0,0,-1);R0b(a.o,a.w);a.o.qf(a.k);e=a.t.rf().yf(a.o);V0b(e,a.u).vf();e.qf(a.t);X0b(a.gb,0,-1,0);R0b(a.gb,a.w);V0b(a.gb,a.u).vf();a.r.ab.sf(f);VKb(a.r,a.gb);rLb(a.r,e);LLb(a.r,a.j.a);PLb(a.r);aLb(a.r,false);W$b(a.r.p,a.r.Y);l_b(a.C,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);f_b(a.C,a.r.q);f_b(a.C,a.r.p);B_b(a.s,a.u,a.t);v_b(a.s,a.r.p);L1b(a.n,a.s.b.c,a.s.b.d,a.s.b.b,a.s.a);d=new O1b;c=a.r.q;r0b(d,(Uqc(a.n.c)+c.a[8])/c.a[0]);s0b(d,(Uqc(a.n.d)+c.a[9])/c.a[5]);d.b=-1;M1b(d,(1+c.a[10])/c.a[14]);new O1b;b=K1b(a.n,2/J1b(a.n,d));axb(c.a,2,b.c);axb(c.a,6,b.d);axb(c.a,10,b.b+1);axb(c.a,14,b.a);g=new b1b;$0b(g,a.j.Y);a.b=g;sIb(nu(CNb(WUb(a.p).i,yKc),168),a.b)}
var BKc='alpha',GKc='distortionScale',yKc='eye',zKc='mirrorSampler',CKc='normalSampler',DKc='sunColor',FKc='sunDirection',AKc='textureMatrix',EKc='waterColor';zS(790,1,ZDc);_.Ud=function cLb(){return this.Vd()};_.Vd=function dLb(){return OKb(this,new bLb)};zS(793,789,$Dc,QLb);_.Ud=function SLb(){return KLb(this)};_.Vd=function TLb(){return KLb(this)};zS(915,914,{233:1,234:1,236:1});_.vf=function u1b(){return this.uf(-1)};zS(916,915,{233:1,234:1,236:1,237:1});_.vf=function a2b(){return K1b(this,-1)};zS(1152,1,hEc);_.Cb=function Bjc(){l4b(this.b,new Djc(this.a))};zS(1153,938,eEc,Djc);_.Id=function Ejc(a){};_.qb=function Fjc(){var a,b,c,d,e,f,g,i,j,k,n;bt((ivb(),hvb),(svb(),rvb),this);this.a=new RLb(55,RCb(this.G.n),0.5,3000000);X0b(this.a.ab,2000,750,2000);this.b=new Jtb(this.a,this.G.b);this.b.q=500;this.b.e=0.1;d=new mUb(16777147,526368,1);X0b(d.ab,-1,1,-1);NKb(this.H,d);this.e=new Xqc(this.G.n,this.a);this.e.i=512;this.e.c=512;this.e.a=1;this.e.f=d.ab.rf().wf();this.e.e=new r$b(16777215);this.e.g=new r$b(7695);n=new sJb('./static/textures/waternormals.jpg',new Ijc(this));lJb(n,(pCb(),oCb));mJb(n,oCb);g=new x2b(new cSb(1000000,1000000),this.e.p);NKb(g,this.e);r0b(g.db,-1.5707963267948966);NKb(this.H,g);k=new AJb(cKc);e=new bXb;YWb(e,new r$b(16777215));e.c=k;i=new HZb(new NEb);sIb(nu(CNb(WUb(i).i,aKc),168),k);i.Q=false;fVb(i,(UWb(),RWb));f=new x2b(new CRb(1000000,1000000,1000000),i);NKb(this.H,f);a=new QRb(400,4);for(b=0,c=a.n.Uc();b<c;b++){o$b(nu(a.n.Mc(b),180).i,vu(1118481+yib(Eib()*15658735)))}j=new LYb;JYb(j,(PVb(),MVb));j.C=100;this.d=new x2b(a,j)};_.rb=function Gjc(a){var b;b=nh()*0.001;s0b(this.d.ab,Gib(b)*500+250);s0b(this.d.db,b*0.5);_0b(this.d.db,b*0.51);sIb(nu(CNb(WUb(this.e.p).i,nKc),168),new xhb(nu(nu(CNb(WUb(this.e.p).i,nKc),168).d,98).a+0.016666666666666666));Lpc(this.e);Itb(this.b,(nh()-this.c)*0.001);this.c=nh();WCb(this.G.n,this.H,this.a,null,false);GKb(du(uQ,OCc,0,[this.a.ab,this.a.db,this.a.V]))};_.c=0;zS(1154,1,{},Ijc);_.Td=function Jjc(a){this.a.e.d=a;Wqc(this.a.e)};zS(1265,790,ZDc);_.q=false;zS(1284,1265,ZDc,Xqc);_.a=0;_.c=0;_.i=0;zS(1285,707,XDc,Zqc);_.Ld=function $qc(){_Db(this,CKc,new uIb((NIb(),FIb),null));_Db(this,zKc,new uIb(FIb,null));_Db(this,BKc,new uIb(zIb,new xhb(1)));_Db(this,nKc,new uIb(zIb,new xhb(0)));_Db(this,GKc,new uIb(zIb,new xhb(20)));_Db(this,AKc,new uIb(DIb,new p_b));_Db(this,DKc,new uIb(yIb,new r$b(8355711)));_Db(this,FKc,new uIb(JIb,new c1b(0.70707,0.70707,0)));_Db(this,yKc,new uIb(JIb,new c1b(0,0,0)));_Db(this,EKc,new uIb(yIb,new r$b(5592405)))};var _qc;zS(1286,1,{},erc);_.Od=function frc(){return nrc(),crc};_.Pd=function grc(){return orc(),drc};var crc,drc;zS(1287,1,{},irc);_.fc=function jrc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};zS(1288,1,{},lrc);_.fc=function mrc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var LM=lhb(SIc,'ShaderOcean$DemoScene',1153),KM=lhb(SIc,'ShaderOcean$DemoScene$1',1154),LN=lhb(LIc,'Mirror',1265),aO=lhb(LIc,'Water',1284),_N=lhb(LIc,'WaterShader',1285),$N=lhb(LIc,'WaterShader_Resources_default_InlineClientBundleGenerator',1286),YN=lhb(LIc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1287),ZN=lhb(LIc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1288);uEc(ti)(36);