function trc(){}
function xrc(){}
function Arc(){}
function fLb(a,b){a.$=b}
function aMb(a,b){a.g=b}
function hLb(a,b){a.gb=b}
function Wjc(a){this.a=a}
function Rjc(){C4b.call(this)}
function lrc(){zEb.call(this,(orc(),nrc))}
function cMb(){dMb.call(this,50,1,0.1,2000)}
function grc(a){return a!=0?a<0?-1:1:0}
function L_b(a,b){return b.sf(a.b).uf(-a.a)}
function J_b(a,b){return K_b(a,b,T$b(R$b(new U$b,b)))}
function X1b(a,b){return a.c*b.c+a.d*b.d+a.b*b.b+a.a*b.a}
function DIb(a){var b;b=new IIb(a.c,a.d);b.a=a.a;return b}
function m1b(a,b){a.c=b.a[12];a.d=b.a[13];a.b=b.a[14];return a}
function ELb(a,b){!b&&(b=new GLb);aLb(a,b);c_b(b.p,a.p);c_b(b.q,a.q);return b}
function YLb(a){var b;b=new cMb;ELb(a,b);_Lb(b,a.c);ZLb(b,a.a);aMb(b,a.g);$Lb(b,a.b);c_b(b.q,a.q);return b}
function K_b(a,b,c){var d,e;e=c1b(G_b.sf(a.b),c);d=L_b(a,H_b);d1b(d,b);a.b.sf(e);a.a=-g1b(d,a.b);return a}
function h1b(a,b){var c;c=new p1b;return a.yf(c.sf(b).uf(2*(a.c*b.c+a.d*b.d+a.b*b.b)))}
function Drc(){Drc=XCc;rrc=new Arc}
function orc(){orc=XCc;nrc=new trc}
function Crc(){Crc=XCc;qrc=new xrc}
function Zpc(a){var b;a.q&&hrc(a);a.q=true;b=a;while(b._){b=b._}!!b&&Au(b,247)&&iDb(a.v,xu(b,247),a.r,a.B,true)}
function X3b(a){var b,c,d;b=new crb;for(d=COb((new pOb(a)).a.a).dc();d.Fc();){c=xu(d.Gc(),1);Dmb(b,c,DIb(xu(a.a[AFc+c],168)))}return b}
function aLb(a,b){var c,d;b.$=a.$;b.gb.sf(a.gb);b.ab.sf(a.ab);b.db.sf(a.db);b.O=a.O;b.fb.sf(a.fb);b.cb=a.cb;b.eb=a.eb;c_b(b.V,a.V);c_b(b.Y,a.Y);c_b(b.X,a.X);b.W=a.W;b.Z=a.Z;T_b(b.bb,a.bb);b.hb=a.hb;b.jb=a.jb;b.Q=a.Q;b.S=a.S;b.R=a.R;for(d=0;d<a.N.b;d++){c=xu(qob(a.N,d),238);_Kb(b,c.Ud())}return b}
function irc(a){GIb(xu(QNb(iVb(a.p).i,YKc),168),a.B);GIb(xu(QNb(iVb(a.p).i,ZKc),168),a.C);GIb(xu(QNb(iVb(a.p).i,$Kc),168),new Lhb(a.a));GIb(xu(QNb(iVb(a.p).i,MKc),168),new Lhb(0));GIb(xu(QNb(iVb(a.p).i,_Kc),168),a.d);GIb(xu(QNb(iVb(a.p).i,aLc),168),a.e);GIb(xu(QNb(iVb(a.p).i,bLc),168),a.g);GIb(xu(QNb(iVb(a.p).i,cLc),168),a.f);GIb(xu(QNb(iVb(a.p).i,dLc),168),new Lhb(20));GIb(xu(QNb(iVb(a.p).i,XKc),168),a.b);UKb(nu(FQ,aDc,0,[iVb(a.p).i]));if(!P$b(a.i)||!P$b(a.c)){a.B.r=false;a.A.r=false}hrc(a);Zpc(a)}
function jrc(a,b){$Kb();var c;pLb.call(this);new F$b(8355711);this.s=new Q_b;this.u=new q1b(0,0,1);this.t=new p1b;this.k=new p1b;this.w=new D_b;this.o=new q1b(0,0,-1);this.n=new a2b;this.C=new D_b;fLb(this,'mirror_ '+this.P);this.i=512;this.c=512;this.a=1;this.d=null;this.f=new q1b(0.70707,0.70707,0);this.e=new F$b(16777215);this.g=new F$b(8355711);this.b=new q1b(0,0,0);fLb(this,'water_'+this.P);this.v=a;if(b){this.j=b}else{this.j=new cMb;WKb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.C=new D_b;this.r=YLb(this.j);this.B=new cKb(this.i,this.c);this.A=new cKb(this.i,this.c);c=new lrc;X3b(c.i);this.p=new VZb(c);uVb(this.p,true)}
function hrc(a){var b,c,d,e,f,g;oLb(a,false);oLb(a.j,false);m1b(a.t,a.Y);m1b(a.k,a.j.Y);f_b(a.w,a.Y);j1b(a.u,0,0,1);d1b(a.u,a.w);f=a.t.rf().yf(a.k);h1b(f,a.u).vf();f.qf(a.t);f_b(a.w,a.j.Y);j1b(a.o,0,0,-1);d1b(a.o,a.w);a.o.qf(a.k);e=a.t.rf().yf(a.o);h1b(e,a.u).vf();e.qf(a.t);j1b(a.gb,0,-1,0);d1b(a.gb,a.w);h1b(a.gb,a.u).vf();a.r.ab.sf(f);hLb(a.r,a.gb);FLb(a.r,e);ZLb(a.r,a.j.a);bMb(a.r);oLb(a.r,false);i_b(a.r.p,a.r.Y);z_b(a.C,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);t_b(a.C,a.r.q);t_b(a.C,a.r.p);P_b(a.s,a.u,a.t);J_b(a.s,a.r.p);Z1b(a.n,a.s.b.c,a.s.b.d,a.s.b.b,a.s.a);d=new a2b;c=a.r.q;F0b(d,(grc(a.n.c)+c.a[8])/c.a[0]);G0b(d,(grc(a.n.d)+c.a[9])/c.a[5]);d.b=-1;$1b(d,(1+c.a[10])/c.a[14]);new a2b;b=Y1b(a.n,2/X1b(a.n,d));oxb(c.a,2,b.c);oxb(c.a,6,b.d);oxb(c.a,10,b.b+1);oxb(c.a,14,b.a);g=new p1b;m1b(g,a.j.Y);a.b=g;GIb(xu(QNb(iVb(a.p).i,XKc),168),a.b)}
var $Kc='alpha',dLc='distortionScale',XKc='eye',YKc='mirrorSampler',_Kc='normalSampler',aLc='sunColor',cLc='sunDirection',ZKc='textureMatrix',bLc='waterColor';KS(789,1,lEc);_.Ud=function qLb(){return this.Vd()};_.Vd=function rLb(){return aLb(this,new pLb)};KS(792,788,mEc,cMb);_.Ud=function eMb(){return YLb(this)};_.Vd=function fMb(){return YLb(this)};KS(914,913,{233:1,234:1,236:1});_.vf=function I1b(){return this.uf(-1)};KS(915,914,{233:1,234:1,236:1,237:1});_.vf=function o2b(){return Y1b(this,-1)};KS(1151,1,vEc);_.Cb=function Pjc(){z4b(this.b,new Rjc(this.a))};KS(1152,937,sEc,Rjc);_.Id=function Sjc(a){};_.qb=function Tjc(){var a,b,c,d,e,f,g,i,j,k,n;kt((wvb(),vvb),(Gvb(),Fvb),this);this.a=new dMb(55,dDb(this.G.n),0.5,3000000);j1b(this.a.ab,2000,750,2000);this.b=new Xtb(this.a,this.G.b);this.b.q=500;this.b.e=0.1;d=new AUb(16777147,526368,1);j1b(d.ab,-1,1,-1);_Kb(this.H,d);this.e=new jrc(this.G.n,this.a);this.e.i=512;this.e.c=512;this.e.a=1;this.e.f=d.ab.rf().wf();this.e.e=new F$b(16777215);this.e.g=new F$b(7695);n=new GJb('./static/textures/waternormals.jpg',new Wjc(this));zJb(n,(DCb(),CCb));AJb(n,CCb);g=new L2b(new qSb(1000000,1000000),this.e.p);_Kb(g,this.e);F0b(g.db,-1.5707963267948966);_Kb(this.H,g);k=new OJb(BKc);e=new pXb;kXb(e,new F$b(16777215));e.c=k;i=new VZb(new _Eb);GIb(xu(QNb(iVb(i).i,zKc),168),k);i.Q=false;tVb(i,(gXb(),dXb));f=new L2b(new QRb(1000000,1000000,1000000),i);_Kb(this.H,f);a=new cSb(400,4);for(b=0,c=a.n.Uc();b<c;b++){C$b(xu(a.n.Mc(b),180).i,Fu(1118481+Mib(Sib()*15658735)))}j=new ZYb;XYb(j,(bWb(),$Vb));j.C=100;this.d=new L2b(a,j)};_.rb=function Ujc(a){var b;b=nh()*0.001;G0b(this.d.ab,Uib(b)*500+250);G0b(this.d.db,b*0.5);n1b(this.d.db,b*0.51);GIb(xu(QNb(iVb(this.e.p).i,MKc),168),new Lhb(xu(xu(QNb(iVb(this.e.p).i,MKc),168).d,98).a+0.016666666666666666));Zpc(this.e);Wtb(this.b,(nh()-this.c)*0.001);this.c=nh();iDb(this.G.n,this.H,this.a,null,false);UKb(nu(FQ,aDc,0,[this.a.ab,this.a.db,this.a.V]))};_.c=0;KS(1153,1,{},Wjc);_.Td=function Xjc(a){this.a.e.d=a;irc(this.a.e)};KS(1264,789,lEc);_.q=false;KS(1283,1264,lEc,jrc);_.a=0;_.c=0;_.i=0;KS(1284,706,jEc,lrc);_.Ld=function mrc(){nEb(this,_Kc,new IIb((_Ib(),TIb),null));nEb(this,YKc,new IIb(TIb,null));nEb(this,$Kc,new IIb(NIb,new Lhb(1)));nEb(this,MKc,new IIb(NIb,new Lhb(0)));nEb(this,dLc,new IIb(NIb,new Lhb(20)));nEb(this,ZKc,new IIb(RIb,new D_b));nEb(this,aLc,new IIb(MIb,new F$b(8355711)));nEb(this,cLc,new IIb(XIb,new q1b(0.70707,0.70707,0)));nEb(this,XKc,new IIb(XIb,new q1b(0,0,0)));nEb(this,bLc,new IIb(MIb,new F$b(5592405)))};var nrc;KS(1285,1,{},trc);_.Od=function urc(){return Crc(),qrc};_.Pd=function vrc(){return Drc(),rrc};var qrc,rrc;KS(1286,1,{},xrc);_.fc=function yrc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};KS(1287,1,{},Arc);_.fc=function Brc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var WM=zhb(pJc,'ShaderOcean$DemoScene',1152),VM=zhb(pJc,'ShaderOcean$DemoScene$1',1153),WN=zhb(iJc,'Mirror',1264),lO=zhb(iJc,'Water',1283),kO=zhb(iJc,'WaterShader',1284),jO=zhb(iJc,'WaterShader_Resources_default_InlineClientBundleGenerator',1285),hO=zhb(iJc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1286),iO=zhb(iJc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1287);IEc(ti)(36);