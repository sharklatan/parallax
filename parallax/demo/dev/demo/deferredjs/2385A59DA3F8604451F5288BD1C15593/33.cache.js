function xvc(){}
function Bvc(){}
function Evc(){}
function E5b(a,b){a.b=b}
function wOb(a,b){a.$=b}
function $Wb(a,b){a.t=b}
function jXb(a,b){a.L=b}
function yOb(a,b){a.gb=b}
function Goc(a){this.b=a}
function Boc(){x8b.call(this)}
function zXb(){AXb.call(this,0,0,1)}
function IXb(){JXb.call(this,0,1,0)}
function G5b(){H5b.call(this,0,0,0,1)}
function T6b(){U6b.call(this,0,1,1000)}
function Y6b(){Z6b.call(this,0,2.5E-4)}
function qvc(){$Hb.call(this,(tvc(),svc))}
function R$b(){tYb.call(this);this.b=new cqb}
function tvc(){tvc=zHc;svc=new xvc}
function Gvc(){Gvc=zHc;vvc=new Bvc}
function Hvc(){Hvc=zHc;wvc=new Evc}
function z2b(a){return a<0?-1:a>0?1:0}
function wWb(a,b){qOb(a,b,true);return b}
function l6b(a,b){qOb(a,b,false);return b}
function F6b(a,b){qOb(a,b,true);b.b=a.b;return b}
function QLb(a){var b;b=new VLb(a.d,a.e);b.b=a.b;return b}
function MOb(a,b){qOb(a,b,true);O2b(b.p,a.p);O2b(b.q,a.q);return b}
function m3b(a,b,c){a.c.of(b);a.b=-J4b(c,a.c);return a}
function B5b(a,b){return a.d*b.d+a.e*b.e+a.c*b.c+a.b*b.b}
function N4b(a,b){var c;c=new U4b;return a.vf(c.of(b).rf(2*(a.d*b.d+a.e*b.e+a.c*b.c)))}
function h3b(a,b){var c;c=new H2b;return i3b(a,b,(G2b(D2b(c,b)),c))}
function Q$b(a){var b,c;c=new R$b;for(b=0;b<a.b.c;b++){Upb(c.b,Xu(Xpb(a.b,b),281).Se())}return c}
function iPb(a){var b;b=new oPb;MOb(a,b);b.o=a.o;b.d=a.d;b.b=a.b;b.i=a.i;b.c=a.c;O2b(b.q,a.q);return b}
function b7b(a,b){qOb(a,b,true);!!a.c&&(b.c=a.c.xf());!!a.d&&(b.d=a.d.Se());b.b=a.b;b.X=a.X;return b}
function yuc(a){var b;a.r&&mvc(a);a.r=true;b=a;while(b._){b=b._}!!b&&$u(b,309)&&nGb(a.w,Xu(b,309),a.s,a.C,true)}
function v7b(a){var b,c,d;b=new Msb;for(d=zRb((new mRb(a)).b.b).fc();d.Hc();){c=Xu(d.Ic(),1);iob(b,c,QLb(Xu(a.b[qKc+c],225)))}return b}
function i3b(a,b,c){var d,e,f,g;f=new U4b;g=new U4b;e=C4b(f.of(a.c),c);d=g.of(a.c).rf(-a.b);D4b(d,b);a.c.of(e);a.b=-J4b(d,a.c);return a}
function W$b(a){var b;b=new d_b;bYb(a,b);R1b(b.d,a.d);R1b(b.c,a.c);R1b(b.f,a.f);b.p=a.p;b.D.of(a.D);b.r=a.r;b.q=a.q;b.A=a.A;b.b=a.b;b.g=a.g;b.e=a.e;b.u=a.u;b.v=a.v;b.i=a.i;b.w=a.w;b.o=a.o;b.C=a.C;b.B=a.B;b.n=a.n;b.k=a.k;b.j=a.j;return b}
function lXb(a){var b;b=new qXb(0);qOb(a,b,true);R1b(b.M,a.M);jXb(b,a.L.$d());$Wb(b,a.t);uOb(b,a.T);b.u=a.u;b.B=a.B;b.A=a.A;b.f=a.f;b.g=a.g;b.i=a.i;b.e=a.e;b.C=a.C;b.v=a.v;b.F=a.F;b.J=a.J;b.H=a.H;b.D=a.D;b.q.of(a.q);b.k=a.k;b.j=a.j;b.r=a.r;b.o=a.o;b.p=a.p;b.n=a.n;return b}
function qOb(a,b,c){var d,e;b.$=a.$;b.gb.of(a.gb);b.ab.of(a.ab);q3b(b.bb,a.bb);b.fb.of(a.fb);b.cb=a.cb;b.eb=a.eb;O2b(b.W,a.W);O2b(b.Y,a.Y);b.X=a.X;b.Z=a.Z;b.hb=a.hb;b.T=a.T;b.V=a.V;b.U=a.U;if(c){for(e=0;e<a.R.c;e++){d=Xu(Xpb(a.R,e),248);pOb(b,d.$d())}}return b}
function Q2b(a,b){var c,d,e,f,g;c=b.b;g=new U4b;d=1/P4b(g,c[0],c[1],c[2]).bf();e=1/P4b(g,c[4],c[5],c[6]).bf();f=1/P4b(g,c[8],c[9],c[10]).bf();a.b[0]=c[0]*d;a.b[1]=c[1]*d;a.b[2]=c[2]*d;a.b[4]=c[4]*e;a.b[5]=c[5]*e;a.b[6]=c[6]*e;a.b[8]=c[8]*f;a.b[9]=c[9]*f;a.b[10]=c[10]*f;return a}
function V_b(a){var b;b=new h0b;bYb(a,b);R1b(b.f,a.f);R1b(b.c,a.c);R1b(b.i,a.i);R1b(b.H,a.H);b.G=a.G;b.n=a.n;b.s=a.s;b.L.of(a.L);b.u=a.u;b.t=a.t;b.d=a.d;b.e=a.e;b.v=a.v;a4b(b.w,a.w);b.I=a.I;b.b=a.b;b.j=a.j;b.g=a.g;b.C=a.C;b.D=a.D;b.k=a.k;b.F=a.F;b.r=a.r;b.K=a.K;b.J=a.J;b.q=a.q;b.p=a.p;b.o=a.o;return b}
function nvc(a){TLb(Xu(NQb(fYb(a.q).j,UPc),225),a.C);TLb(Xu(NQb(fYb(a.q).j,VPc),225),a.D);TLb(Xu(NQb(fYb(a.q).j,WPc),225),new ojb(a.b));TLb(Xu(NQb(fYb(a.q).j,IPc),225),new ojb(0));TLb(Xu(NQb(fYb(a.q).j,XPc),225),a.e);TLb(Xu(NQb(fYb(a.q).j,YPc),225),a.f);TLb(Xu(NQb(fYb(a.q).j,ZPc),225),a.i);TLb(Xu(NQb(fYb(a.q).j,$Pc),225),a.g);TLb(Xu(NQb(fYb(a.q).j,_Pc),225),new ojb(20));TLb(Xu(NQb(fYb(a.q).j,TPc),225),a.c);hOb(Nu(IR,FHc,0,[fYb(a.q).j]));if(!y2b(a.j)||!y2b(a.d)){DMb(a.C,false);DMb(a.B,false)}mvc(a);yuc(a)}
function ovc(a,b){oOb();var c;GOb.call(this);new _1b(8355711);this.t=new n3b;this.v=new V4b(0,0,1);this.u=new U4b;this.n=new U4b;this.A=new d3b;this.p=new V4b(0,0,-1);this.o=new G5b;this.D=new d3b;wOb(this,'mirror_ '+this.S);this.j=512;this.d=512;this.b=1;this.e=null;this.g=new V4b(0.70707,0.70707,0);this.f=new _1b(16777215);this.i=new _1b(8355711);this.c=new V4b(0,0,0);wOb(this,'water_'+this.S);this.w=a;if(b){this.k=b}else{this.k=new oPb;jOb(' -> Mirror() ID '+this.$+': camera is not a Perspective Camera!')}this.D=new d3b;this.s=iPb(this.k);this.C=new pNb(this.j,this.d);this.B=new pNb(this.j,this.d);c=new qvc;v7b(c.j);this.q=new l1b(c);rYb(this.q,true)}
function mvc(a){var b,c,d,e,f,g;FOb(a,false);FOb(a.k,false);Q4b(a.u,a.Y);Q4b(a.n,a.k.Y);Q2b(a.A,a.Y);P4b(a.v,0,0,1);D4b(a.v,a.A);f=a.u.nf().vf(a.n);N4b(f,a.v).sf();f.mf(a.u);Q2b(a.A,a.k.Y);P4b(a.p,0,0,-1);D4b(a.p,a.A);a.p.mf(a.n);e=a.u.nf().vf(a.p);N4b(e,a.v).sf();e.mf(a.u);P4b(a.gb,0,-1,0);D4b(a.gb,a.A);N4b(a.gb,a.v).sf();a.s.ab.of(f);yOb(a.s,a.gb);NOb(a.s,e);jPb(a.s,a.k.b);nPb(a.s);FOb(a.s,false);S2b(a.s.p,a.s.Y);c3b(a.D,0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);a3b(a.D,a.s.q);a3b(a.D,a.s.p);m3b(a.t,a.v,a.u);h3b(a.t,a.s.p);D5b(a.o,a.t.c.d,a.t.c.e,a.t.c.c,a.t.b);d=new G5b;c=a.s.q;d4b(d,(z2b(a.o.d)+c.b[8])/c.b[0]);e4b(d,(z2b(a.o.e)+c.b[9])/c.b[5]);d.c=-1;E5b(d,(1+c.b[10])/c.b[14]);new G5b;b=C5b(a.o,2/B5b(a.o,d));czb(c.b,2,b.d);czb(c.b,6,b.e);czb(c.b,10,b.c+1);czb(c.b,14,b.b);g=new U4b;Q4b(g,a.k.Y);a.c=g;TLb(Xu(NQb(fYb(a.q).j,TPc),225),a.c)}
var WPc='alpha',_Pc='distortionScale',TPc='eye',UPc='mirrorSampler',XPc='normalSampler',YPc='sunColor',$Pc='sunDirection',VPc='textureMatrix',ZPc='waterColor';OT(808,1,$Ic);_.$d=function HOb(){return qOb(this,new GOb,true)};OT(807,808,{78:1,186:1,248:1});_.be=function POb(){return MOb(this,new OOb)};_.$d=function QOb(){return this.be()};OT(810,807,{78:1,186:1,235:1,248:1});_.be=function ePb(){var a;return a=new cPb(10,10,10,10),MOb(this,a),a.i=this.i,a.d=this.d,a.f=this.f,a.g=this.g,a.b=this.b,a.e=this.e,a.c=this.c,O2b(a.q,this.q),a};OT(811,807,{78:1,186:1,236:1,248:1});_.be=function qPb(){return iPb(this)};OT(893,832,eJc);_.$d=function EWb(){return wWb(this,new DWb(Xu(this.u,241),Xu(this.v,280),this.f))};OT(894,895,fJc);_.$d=function RWb(){var a;return a=new QWb(0),qOb(this,a,true),R1b(a.M,this.M),a};OT(897,898,{248:1,257:1,259:1,261:1});_.$d=function sXb(){return lXb(this)};OT(900,895,{248:1,258:1,259:1},zXb);_.$d=function BXb(){var a;return a=new zXb,qOb(this,a,true),R1b(a.M,this.M),R1b(a.b,this.b),a.c=this.c,a};OT(902,895,{248:1,259:1,260:1},IXb);_.$d=function KXb(){var a;return a=new IXb,qOb(this,a,true),R1b(a.M,this.M),a.c=this.c,a.b=this.b,a};OT(907,908,{267:1,269:1,277:1,280:1,281:1});_.Se=function zYb(){var a;return a=new yYb,bYb(this,a),R1b(a.b,this.b),a.d=this.d,a.e=this.e,a.c=this.c,a};OT(914,908,{264:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,281:1,287:1});_.Se=function m$b(){var a;return a=new l$b,bYb(this,a),R1b(a.c,this.c),a.n=this.n,a.k=this.k,a.t=this.t,a.b=this.b,a.e=this.e,a.d=this.d,a.q=this.q,a.r=this.r,a.f=this.f,a.s=this.s,a.j=this.j,a.v=this.v,a.u=this.u,a.i=this.i,a.g=this.g,a};OT(915,908,{281:1,288:1},R$b);_.Se=function T$b(){return Q$b(this)};OT(916,908,{264:1,265:1,267:1,268:1,269:1,270:1,271:1,272:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,289:1});_.Se=function e_b(){return W$b(this)};OT(917,908,{274:1,278:1,281:1});_.Se=function O_b(){var a;return a=new N_b,bYb(this,a),a.c=this.c,a.b=this.b,a.d=this.d,a};OT(918,908,{264:1,265:1,266:1,267:1,268:1,269:1,270:1,271:1,272:1,273:1,274:1,275:1,276:1,277:1,278:1,279:1,281:1,290:1});_.Se=function i0b(){return V_b(this)};OT(919,908,{267:1,269:1,271:1,277:1,281:1,291:1});_.Se=function T0b(){var a;return a=new S0b,bYb(this,a),R1b(a.b,this.b),a.d=this.d,a.e=this.e,a.f=this.f,a.g=this.g,a.c=this.c,a};OT(921,908,{267:1,269:1,274:1,275:1,277:1,278:1,281:1,292:1});_.Se=function m1b(){var a;return a=new i1b,bYb(this,a),a.n=this.n,a.o=this.o,a.i=this.i,a.q=this.q,a.c=this.c,a.d=this.d,a.p=this.p,a.g=this.g,a.f=this.f,a.e=this.g,a};OT(937,936,{296:1,297:1,299:1});_.sf=function n5b(){this.d=-this.d;this.e=-this.e;this.c=-this.c;return this};OT(938,937,{296:1,297:1,299:1,301:1},G5b);_.sf=function U5b(){return this.d=-this.d,this.e=-this.e,this.c=-this.c,this.b=-this.b,this};OT(941,832,{247:1,248:1,304:1});_.$d=function s6b(){return this.wf()};_.wf=function t6b(){return l6b(this,new r6b(this.u,this.v))};OT(943,832,{247:1,248:1,306:1});_.$d=function L6b(){return F6b(this,new K6b(Xu(this.u,241),Xu(this.v,291)))};OT(945,944,{307:1},T6b);_.xf=function V6b(){var a;return a=new T6b,a.e=this.e,a.d=Q1b(this.d),a.c=this.c,a.b=this.b,a};OT(946,944,{308:1},Y6b);_.xf=function $6b(){var a;return a=new Y6b,a.e=this.e,a.d=Q1b(this.d),a.b=this.b,a};OT(947,808,{248:1,309:1});_.$d=function e7b(){return b7b(this,new d7b)};OT(1192,1,jJc);_.Db=function zoc(){Z7b(this.c,new Boc(this.b))};OT(1193,967,gJc,Boc);_.Ld=function Coc(a){};_.ob=function Doc(){var a,b,c,d,e,f,g,i,j,k,n;Mt((fxb(),exb),(pxb(),oxb),this);this.b=new pPb(55,bGb(this.F.n),0.5,3000000);P4b(this.b.ab,2000,750,2000);this.c=new Ivb(this.b,this.F.d);this.c.r=500;this.c.f=0.1;d=new AXb(16777147,526368,1);P4b(d.ab,-1,1,-1);pOb(this.G,d);this.f=new ovc(this.F.n,this.b);this.f.j=512;this.f.d=512;this.f.b=1;this.f.g=d.ab.nf().tf();this.f.f=new _1b(16777215);this.f.i=new _1b(7695);n=new VMb('./static/textures/waternormals.jpg',new Goc(this));OMb(n,(eFb(),dFb));PMb(n,dFb);g=new r6b(new xVb(1000000,1000000),this.f.q);pOb(g,this.f);m2b(g.db,-1.5707963267948966);pOb(this.G,g);k=new bNb(wPc);e=new l$b;f$b(e,new _1b(16777215));e.e=k;i=new l1b(new AIb);TLb(Xu(NQb(fYb(i).j,tPc),225),k);i.T=false;qYb(i,(b$b(),$Zb));f=new r6b(new TUb(1000000,1000000,1000000),i);pOb(this.G,f);a=new kVb(400,4);for(b=0,c=a.j.Wc();b<c;b++){Y1b(Xu(a.j.Oc(b),240).g,dv(1118481+pkb(vkb()*15658735)))}j=new h0b;f0b(j,(YYb(),VYb));j.j=k;j.G=100;this.e=new r6b(a,j)};_.pb=function Eoc(a){var b;b=Ch()*0.001;e4b(this.e.ab,xkb(b)*500+250);n2b(this.e.db,b*0.5);o2b(this.e.db,b*0.51);TLb(Xu(NQb(fYb(this.f.q).j,IPc),225),new ojb(Xu(Xu(NQb(fYb(this.f.q).j,IPc),225).e,150).b+0.016666666666666666));yuc(this.f);Hvb(this.c,(Ch()-this.d)*0.001);this.d=Ch();nGb(this.F.n,this.G,this.b,null,false);hOb(Nu(IR,FHc,0,[this.b.ab,this.b.db,this.b.W]))};_.d=0;OT(1194,1,{},Goc);_.Zd=function Hoc(a){this.b.f.e=a;nvc(this.b.f)};OT(1304,808,$Ic);_.r=false;OT(1317,1304,$Ic,ovc);_.b=0;_.d=0;_.j=0;OT(1318,731,YIc,qvc);_.Qd=function rvc(){OHb(this,XPc,new VLb((mMb(),eMb),null));OHb(this,UPc,new VLb(eMb,null));OHb(this,WPc,new VLb($Lb,new ojb(1)));OHb(this,IPc,new VLb($Lb,new ojb(0)));OHb(this,_Pc,new VLb($Lb,new ojb(20)));OHb(this,VPc,new VLb(cMb,new d3b));OHb(this,YPc,new VLb(ZLb,new _1b(8355711)));OHb(this,$Pc,new VLb(iMb,new V4b(0.70707,0.70707,0)));OHb(this,TPc,new VLb(iMb,new V4b(0,0,0)));OHb(this,ZPc,new VLb(ZLb,new _1b(5592405)))};var svc;OT(1319,1,{},xvc);_.Td=function yvc(){return Gvc(),vvc};_.Ud=function zvc(){return Hvc(),wvc};var vvc,wvc;OT(1320,1,{},Bvc);_.tc=function Cvc(){return '\t\r\nuniform sampler2D mirrorSampler;\r\nuniform float alpha;\r\nuniform float time;\r\nuniform float distortionScale;\r\nuniform sampler2D normalSampler;\r\nuniform vec3 sunColor;\r\nuniform vec3 sunDirection;\r\nuniform vec3 eye;\r\nuniform vec3 waterColor;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvec4 getNoise( vec2 uv )\r\n{\r\n\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\r\n\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\r\n\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\r\n\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\r\n\tvec4 noise = ( texture2D( normalSampler, uv0 ) ) +\r\n        \t\t( texture2D( normalSampler, uv1 ) ) +\r\n        \t\t( texture2D( normalSampler, uv2 ) ) +\r\n\t\t( texture2D( normalSampler, uv3 ) );\r\n\treturn noise * 0.5 - 1.0;\r\n}\r\n\t\t\r\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )\r\n{\r\n\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\r\n\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\r\n\tspecularColor += pow( direction, shiny ) * sunColor * spec;\r\n\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\r\n}\r\n\t\t\r\nvoid main()\r\n{\r\n\tvec4 noise = getNoise( worldPosition.xz );\r\n\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\r\n\r\n\tvec3 diffuseLight = vec3(0.0);\r\n\tvec3 specularLight = vec3(0.0);\r\n\r\n\tvec3 worldToEye = eye-worldPosition;\r\n\tvec3 eyeDirection = normalize( worldToEye );\r\n\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\r\n\t\t\r\n\tfloat distance = length(worldToEye);\r\n\r\n\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\r\n\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );\r\n\r\n\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\r\n\tfloat rf0 = 0.3;\r\n\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\r\n\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\r\n\tvec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance );\r\n\tgl_FragColor = vec4( albedo, alpha );\r\n}\r\n'};OT(1321,1,{},Evc);_.tc=function Fvc(){return 'uniform mat4 textureMatrix;\r\nuniform float time;\r\n\r\nvarying vec4 mirrorCoord;\r\nvarying vec3 worldPosition;\r\n\t\t\r\nvoid main()\r\n{\r\n\tmirrorCoord = modelMatrix * vec4( position, 1.0 );\r\n\tworldPosition = mirrorCoord.xyz;\r\n\tmirrorCoord = textureMatrix * mirrorCoord;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}\r\n'};var dO=cjb(iOc,'ShaderOcean$DemoScene',1193),cO=cjb(iOc,'ShaderOcean$DemoScene$1',1194),ZO=cjb(bOc,'Mirror',1304),kP=cjb(bOc,'Water',1317),jP=cjb(bOc,'WaterShader',1318),iP=cjb(bOc,'WaterShader_Resources_default_InlineClientBundleGenerator',1319),gP=cjb(bOc,'WaterShader_Resources_default_InlineClientBundleGenerator$1',1320),hP=cjb(bOc,'WaterShader_Resources_default_InlineClientBundleGenerator$2',1321);wJc(Ii)(33);